## **1. Supabase Table SQL**
```sql
-- Create users table for astronomy-news app
CREATE TABLE IF NOT EXISTS users (
    user_id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    user_name VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    interactions_history JSONB DEFAULT '[]'::jsonb,
    preferences JSONB DEFAULT '{
        "language": "en",
        "theme": "light",
        "notifications": true,
        "email_updates": false,
        "default_category": "all"
    }'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
-- Create index for faster queries
CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);
CREATE INDEX IF NOT EXISTS idx_users_username ON users(user_name);
-- Create function to update updated_at timestamp
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ language 'plpgsql';
-- Create trigger for updated_at
CREATE TRIGGER update_users_updated_at
    BEFORE UPDATE ON users
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();
-- Create reactions table for news/events
CREATE TABLE IF NOT EXISTS reactions (
    reaction_id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES users(user_id) ON DELETE CASCADE,
    item_id VARCHAR(50) NOT NULL,
    item_type VARCHAR(20) NOT NULL, -- 'news' or 'event'
    reaction_type VARCHAR(10) NOT NULL, -- 'like', 'dislike'
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(user_id, item_id, item_type)
);
-- Create comments table
CREATE TABLE IF NOT EXISTS comments (
    comment_id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES users(user_id) ON DELETE CASCADE,
    item_id VARCHAR(50) NOT NULL,
    item_type VARCHAR(20) NOT NULL, -- 'news' or 'event'
    content TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
-- Create index for comments
CREATE INDEX IF NOT EXISTS idx_comments_item ON comments(item_id, item_type);
CREATE INDEX IF NOT EXISTS idx_reactions_item ON reactions(item_id, item_type);
```
## **2. netlify.toml**
```toml
[build]
  publish = "."
  command = "echo 'Build complete'"
[build.environment]
  NODE_VERSION = "18"
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"
[[headers]]
  for = "/sw.js"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"
    Service-Worker-Allowed = "/"
```
## **3. offline.html**
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astronomy News - Offline</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a6fa5">
    <style>
        .AN-offline-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #1a237e, #283593);
            color: white;
        }
        .AN-offline-icon {
            font-size: 80px;
            margin-bottom: 20px;
            color: #64b5f6;
        }
        .AN-offline-title {
            font-size: 32px;
            margin-bottom: 15px;
            color: white;
        }
        .AN-offline-text {
            font-size: 18px;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 500px;
        }
        .AN-offline-btn {
            background-color: #64b5f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
        }
        .AN-offline-btn:hover {
            background-color: #42a5f5;
            transform: translateY(-2px);
        }
        .AN-offline-stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        .AN-offline-star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
    </style>
</head>
<body>
    <div class="AN-offline-container">
        <div class="AN-offline-icon">
            <i class="fas fa-satellite"></i>
        </div>
        <h1 class="AN-offline-title">Connection Lost in Space</h1>
        <p class="AN-offline-text">
            You're currently offline. Don't worry! You can still explore previously loaded content 
            and some features will be available. Once you reconnect, everything will sync automatically.
        </p>
        <button class="AN-offline-btn" onclick="location.reload()">
            <i class="fas fa-sync-alt"></i> Try Again
        </button>
        <a href="/" class="AN-offline-btn">
            <i class="fas fa-home"></i> Go Home
        </a>
        <p style="margin-top: 30px; font-size: 14px; opacity: 0.7;">
            Tip: Some features require internet connection for full functionality
        </p>
    </div>
    <div class="AN-offline-stars" id="stars"></div>
    <script>
        // Generate random stars
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'AN-offline-star';
            star.style.width = star.style.height = Math.random() * 3 + 'px';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 5 + 's';
            star.style.opacity = Math.random() * 0.7 + 0.3;
            starsContainer.appendChild(star);
        }
        // Check connection periodically
        setInterval(() => {
            if (navigator.onLine) {
                window.location.href = '/';
            }
        }, 5000);
        // Listen for online event
        window.addEventListener('online', () => {
            window.location.href = '/';
        });
    </script>
</body>
</html>
```
## **4. sw.js (Service Worker)**
```javascript
// Service Worker for Astronomy News PWA
const CACHE_NAME = 'astronomy-news-v1.0';
const OFFLINE_URL = '/offline.html';
const STATIC_CACHE = 'static-v1';
const DYNAMIC_CACHE = 'dynamic-v1';
// Assets to cache on install
const STATIC_ASSETS = [
    '/',
    '/index.html',
    '/offline.html',
    '/main.css',
    '/manifest.json',
    '/data.js',
    '/data_processing.js',
    '/translation.js',
    '/app.js',
    '/router.js',
    '/share-manager.js',
    '/pwa-main.js',
    '/AN_about.html',
    '/AN_explore.html',
    '/AN_news.html',
    '/AN_gallery.html',
    '/AN_missions.html',
    'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'
];
// Icons to cache
const ICONS = [
    '/assets/icons/icon-72x72.png',
    '/assets/icons/icon-96x96.png',
    '/assets/icons/icon-128x128.png',
    '/assets/icons/icon-152x152.png',
    '/assets/icons/icon-192x192.png',
    '/assets/icons/icon-384x384.png',
    '/assets/icons/icon-512x512.png'
];
// Install event - cache static assets
self.addEventListener('install', event => {
    event.waitUntil(
        caches.open(STATIC_CACHE)
            .then(cache => {
                console.log('Caching static assets');
                return cache.addAll(STATIC_ASSETS);
            })
            .then(() => self.skipWaiting())
    );
});
// Activate event - clean up old caches
self.addEventListener('activate', event => {
    event.waitUntil(
        caches.keys().then(cacheNames => {
            return Promise.all(
                cacheNames.map(cacheName => {
                    if (cacheName !== STATIC_CACHE && cacheName !== DYNAMIC_CACHE) {
                        console.log('Deleting old cache:', cacheName);
                        return caches.delete(cacheName);
                    }
                })
            );
        })
        .then(() => self.clients.claim())
    );
});
// Fetch event - network first with cache fallback
self.addEventListener('fetch', event => {
    // Skip non-GET requests
    if (event.request.method !== 'GET') return;
    // Handle API requests differently
    if (event.request.url.includes('supabase.co')) {
        event.respondWith(networkFirstStrategy(event.request));
        return;
    }
    // For navigation requests, try network first
    if (event.request.mode === 'navigate') {
        event.respondWith(
            fetch(event.request)
                .catch(() => caches.match(OFFLINE_URL))
        );
        return;
    }
    // For static assets, try cache first
    if (STATIC_ASSETS.some(asset => event.request.url.includes(asset)) ||
        ICONS.some(icon => event.request.url.includes(icon))) {
        event.respondWith(cacheFirstStrategy(event.request));
        return;
    }
    // For other requests, try network first
    event.respondWith(networkFirstStrategy(event.request));
});
// Cache First Strategy
async function cacheFirstStrategy(request) {
    const cachedResponse = await caches.match(request);
    if (cachedResponse) {
        return cachedResponse;
    }
    try {
        const networkResponse = await fetch(request);
        // Cache the response for future use
        if (networkResponse.ok) {
            const cache = await caches.open(DYNAMIC_CACHE);
            cache.put(request, networkResponse.clone());
        }
        return networkResponse;
    } catch (error) {
        // If both cache and network fail, return offline page for HTML requests
        if (request.headers.get('accept').includes('text/html')) {
            return caches.match(OFFLINE_URL);
        }
        throw error;
    }
}
// Network First Strategy
async function networkFirstStrategy(request) {
    try {
        const networkResponse = await fetch(request);
        // Cache successful responses
        if (networkResponse.ok) {
            const cache = await caches.open(DYNAMIC_CACHE);
            cache.put(request, networkResponse.clone());
        }
        return networkResponse;
    } catch (error) {
        // Network failed, try cache
        const cachedResponse = await caches.match(request);
        if (cachedResponse) {
            return cachedResponse;
        }
        // If it's an HTML request, return offline page
        if (request.headers.get('accept').includes('text/html')) {
            return caches.match(OFFLINE_URL);
        }
        throw error;
    }
}
// Background Sync for offline interactions
self.addEventListener('sync', event => {
    if (event.tag === 'sync-reactions') {
        event.waitUntil(syncReactions());
    }
    if (event.tag === 'sync-comments') {
        event.waitUntil(syncComments());
    }
});
// Sync reactions to server
async function syncReactions() {
    const db = await openReactionsDB();
    const reactions = await getAllReactions(db);
    for (const reaction of reactions) {
        try {
            // Sync to Supabase
            await fetch('https://cmicjfgettavzilduqgq.supabase.co/rest/v1/reactions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtaWNqZmdldHRhdnppbGR1cWdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAxMTIsImV4cCI6MjA4MTkyNjExMn0.7eGpPAfDPKGIhYRR17yCxxMi1pRkKSTf7qxICZGcw0c',
                    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtaWNqZmdldHRhdnppbGR1cWdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAxMTIsImV4cCI6MjA4MTkyNjExMn0.7eGpPAfDPKGIhYRR17yCxxMi1pRkKSTf7qxICZGcw0c'
                },
                body: JSON.stringify(reaction)
            });
            // Remove from local DB after successful sync
            await deleteReaction(db, reaction.id);
        } catch (error) {
            console.error('Failed to sync reaction:', error);
        }
    }
}
// Sync comments to server
async function syncComments() {
    const db = await openCommentsDB();
    const comments = await getAllComments(db);
    for (const comment of comments) {
        try {
            await fetch('https://cmicjfgettavzilduqgq.supabase.co/rest/v1/comments', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtaWNqZmdldHRhdnppbGR1cWdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAxMTIsImV4cCI6MjA4MTkyNjExMn0.7eGpPAfDPKGIhYRR17yCxxMi1pRkKSTf7qxICZGcw0c',
                    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtaWNqZmdldHRhdnppbGR1cWdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAxMTIsImV4cCI6MjA4MTkyNjExMn0.7eGpPAfDPKGIhYRR17yCxxMi1pRkKSTf7qxICZGcw0c'
                },
                body: JSON.stringify(comment)
            });
            await deleteComment(db, comment.id);
        } catch (error) {
            console.error('Failed to sync comment:', error);
        }
    }
}
// IndexedDB for offline reactions
function openReactionsDB() {
    return new Promise((resolve, reject) => {
        const request = indexedDB.open('astronomy-reactions', 1);
        request.onupgradeneeded = (event) => {
            const db = event.target.result;
            if (!db.objectStoreNames.contains('reactions')) {
                db.createObjectStore('reactions', { keyPath: 'id' });
            }
        };
        request.onsuccess = (event) => resolve(event.target.result);
        request.onerror = (event) => reject(event.target.error);
    });
}
function getAllReactions(db) {
    return new Promise((resolve, reject) => {
        const transaction = db.transaction(['reactions'], 'readonly');
        const store = transaction.objectStore('reactions');
        const request = store.getAll();
        request.onsuccess = () => resolve(request.result);
        request.onerror = (event) => reject(event.target.error);
    });
}
function deleteReaction(db, id) {
    return new Promise((resolve, reject) => {
        const transaction = db.transaction(['reactions'], 'readwrite');
        const store = transaction.objectStore('reactions');
        const request = store.delete(id);
        request.onsuccess = () => resolve();
        request.onerror = (event) => reject(event.target.error);
    });
}
// IndexedDB for offline comments
function openCommentsDB() {
    return new Promise((resolve, reject) => {
        const request = indexedDB.open('astronomy-comments', 1);
        request.onupgradeneeded = (event) => {
            const db = event.target.result;
            if (!db.objectStoreNames.contains('comments')) {
                db.createObjectStore('comments', { keyPath: 'id' });
            }
        };
        request.onsuccess = (event) => resolve(event.target.result);
        request.onerror = (event) => reject(event.target.error);
    });
}
function getAllComments(db) {
    return new Promise((resolve, reject) => {
        const transaction = db.transaction(['comments'], 'readonly');
        const store = transaction.objectStore('comments');
        const request = store.getAll();
        request.onsuccess = () => resolve(request.result);
        request.onerror = (event) => reject(event.target.error);
    });
}
function deleteComment(db, id) {
    return new Promise((resolve, reject) => {
        const transaction = db.transaction(['comments'], 'readwrite');
        const store = transaction.objectStore('comments');
        const request = store.delete(id);
        request.onsuccess = () => resolve();
        request.onerror = (event) => reject(event.target.error);
    });
}
// Push Notification Handler
self.addEventListener('push', event => {
    const options = {
        body: event.data ? event.data.text() : 'New astronomy update!',
        icon: '/assets/icons/icon-192x192.png',
        badge: '/assets/icons/icon-72x72.png',
        vibrate: [200, 100, 200],
        data: {
            dateOfArrival: Date.now(),
            primaryKey: '2'
        },
        actions: [
            {
                action: 'explore',
                title: 'Explore',
                icon: '/assets/icons/icon-72x72.png'
            },
            {
                action: 'close',
                title: 'Close',
                icon: '/assets/icons/icon-72x72.png'
            }
        ]
    };
    event.waitUntil(
        self.registration.showNotification('Astronomy News', options)
    );
});
// Notification click handler
self.addEventListener('notificationclick', event => {
    event.notification.close();
    if (event.action === 'explore') {
        event.waitUntil(
            clients.openWindow('/')
        );
    } else if (event.action === 'close') {
        // Do nothing
    } else {
        event.waitUntil(
            clients.openWindow('/')
        );
    }
});
// Periodic Sync for background updates
self.addEventListener('periodicsync', event => {
    if (event.tag === 'update-news') {
        event.waitUntil(updateNewsBackground());
    }
});
async function updateNewsBackground() {
    try {
        const response = await fetch('/api/news/latest');
        const news = await response.json();
        // Cache new news
        const cache = await caches.open(DYNAMIC_CACHE);
        await cache.put('/api/news/latest', new Response(JSON.stringify(news)));
        // Show notification if there's new content
        if (news.length > 0) {
            await self.registration.showNotification('New Astronomy News', {
                body: `There are ${news.length} new articles available`,
                icon: '/assets/icons/icon-192x192.png',
                tag: 'news-update'
            });
        }
    } catch (error) {
        console.error('Background sync failed:', error);
    }
}
```
## **5. index.html (Updated with Reaction Buttons)**
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astronomy News - Cosmic Discoveries</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a6fa5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Astronomy News">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
</head>
<body class="AN-body">
    <!-- Header Section -->
    <header class="AN-header">
        <div class="AN-container">
            <div class="AN-header-content">
                <!-- Column 1: Logo -->
                <div class="AN-logo-section">
                    <a href="index.html" class="AN-logo-link">
                        <div class="AN-logo fallback-logo">
                            <img src="assets/icons/icon-96x96.png" alt="Astronomy News Logo" onerror="this.style.display='none'; this.parentElement.classList.add('fallback-logo')">
                            <i class="fas fa-star" style="display: none;"></i>
                        </div>
                    </a>
                </div>
                <!-- Column 2: Title -->
                <div class="AN-title-section">
                    <h1 class="AN-title" data-i18n="An.index.title">Astronomy News</h1>
                </div>
                <!-- Column 3: Options Card -->
                <div class="AN-options-card">
                    <div class="AN-controls-compact">
                        <div class="AN-control-group">
                            <label for="AN-language-select" class="AN-control-label" data-i18n="An.index.language">Language:</label>
                            <select id="AN-language-select" class="AN-select">
                                <option value="en">English</option>
                                <option value="fr">Français</option>
                                <option value="ar">العربية</option>
                            </select>
                        </div>
                        <div class="AN-control-group">
                            <div class="AN-theme-toggle">
                                <input type="checkbox" id="AN-theme-switch" class="AN-theme-checkbox">
                                <label for="AN-theme-switch" class="AN-theme-slider">
                                    <span class="AN-theme-icon AN-theme-sun"><i class="fas fa-sun"></i></span>
                                    <span class="AN-theme-icon AN-theme-moon"><i class="fas fa-moon"></i></span>
                                </label>
                            </div>
                        </div>
                        <div class="AN-control-group">
                            <button class="AN-notification-btn" id="AN-notification-toggle">
                                <i class="fas fa-bell"></i>
                                <span class="AN-notification-badge" id="AN-notification-badge">0</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Navigation -->
            <nav class="AN-nav">
                <ul class="AN-nav-list">
                    <li class="AN-nav-item"><a href="index.html" class="AN-nav-link" data-i18n="An.index.home">Home</a></li>
                    <li class="AN-nav-item"><a href="AN_news.html" class="AN-nav-link" data-i18n="An.index.news">News</a></li>
                    <li class="AN-nav-item"><a href="AN_missions.html" class="AN-nav-link" data-i18n="An.index.missions">Missions</a></li>
                    <li class="AN-nav-item"><a href="AN_gallery.html" class="AN-nav-link" data-i18n="An.index.gallery">Gallery</a></li>
                    <li class="AN-nav-item"><a href="AN_explore.html" class="AN-nav-link" data-i18n="An.index.explore">Explore Astronomy</a></li>
                    <li class="AN-nav-item"><a href="AN_about.html" class="AN-nav-link" data-i18n="An.index.about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- Main Content -->
    <main class="AN-main">
        <div class="AN-container">
            <!-- Hero Section -->
            <section class="AN-hero">
                <div class="AN-hero-content">
                    <h2 class="AN-hero-title" data-i18n="An.index.heroTitle">Exploring the Universe</h2>
                    <p class="AN-hero-text" data-i18n="An.index.heroText">Latest discoveries, missions, and cosmic events from across the universe</p>
                    <a href="AN_explore.html" class="AN-btn AN-btn-primary" data-i18n="An.index.exploreBtn">Explore News</a>
                </div>
                <div class="AN-hero-image">
                    <div class="AN-planet AN-planet-1"></div>
                    <div class="AN-planet AN-planet-2"></div>
                    <div class="AN-planet AN-planet-3"></div>
                    <div class="AN-stars"></div>
                </div>
            </section>
            <!-- Featured News Section -->
            <section class="AN-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 class="AN-section-title" data-i18n="An.index.featuredNews">Featured News</h2>
                    <div class="AN-news-categories">
                        <button class="AN-category-btn AN-category-active" data-category="all" data-i18n="An.index.allNews">All News</button>
                        <button class="AN-category-btn" data-category="global" data-i18n="An.index.globalNews">Global</button>
                        <button class="AN-category-btn" data-category="local" data-i18n="An.index.localNews">Tunisia</button>
                    </div>
                </div>
                <div class="AN-news-grid" id="AN-news-container">
                    <!-- News cards will be dynamically generated here -->
                </div>
            </section>
            <!-- Upcoming Events Section -->
            <section class="AN-section">
                <h2 class="AN-section-title" data-i18n="An.index.upcomingEvents">Upcoming Events</h2>
                <div class="AN-events-list" id="AN-events-container">
                    <!-- Event items will be dynamically generated here -->
                </div>
            </section>
        </div>
    </main>
    <!-- Footer -->
    <footer class="AN-footer">
        <div class="AN-container">
            <div class="AN-footer-content">
                <!-- Column 1: Information -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.aboutUs">About Us</h3>
                    <p class="AN-footer-text" data-i18n="An.index.aboutText">Astronomy News brings you the latest news and discoveries from the world of astronomy and space exploration.</p>
                </div>
                <!-- Column 2: Developer -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.developer">Developer</h3>
                    <p class="AN-footer-text">Mejri Ziad</p>
                </div>
                <!-- Column 3: Quick Links -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.quickLinks">Quick Links</h3>
                    <ul class="AN-footer-links">
                        <li><a href="index.html" data-i18n="An.index.home">Home</a></li>
                        <li><a href="AN_news.html" data-i18n="An.index.news">News</a></li>
                        <li><a href="AN_missions.html" data-i18n="An.index.missions">Missions</a></li>
                        <li><a href="AN_gallery.html" data-i18n="An.index.gallery">Gallery</a></li>
                        <li><a href="AN_explore.html" data-i18n="An.index.explore">Explore Astronomy</a></li>
                        <li><a href="AN_about.html" data-i18n="An.index.about">About</a></li>
                    </ul>
                </div>
                <!-- Column 4: Legal -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.legal">Legal</h3>
                    <ul class="AN-footer-links">
                        <li><a href="#" data-i18n="An.index.privacyPolicy">Privacy Policy</a></li>
                        <li><a href="#" data-i18n="An.index.termsOfUse">Terms of Use</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Notification Panel -->
    <div class="AN-notification-panel" id="AN-notification-panel">
        <div class="AN-notification-header">
            <h3 data-i18n="An.index.notifications">Notifications</h3>
            <button class="AN-close-btn" id="AN-close-notifications">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="AN-notification-list" id="AN-notification-list">
            <!-- Notifications will be dynamically generated here -->
        </div>
    </div>
    <!-- Event Modal -->
    <div class="AN-event-modal" id="AN-event-modal">
        <div class="AN-event-modal-content">
            <div class="AN-event-modal-header">
                <h2 id="AN-event-modal-title"></h2>
                <button class="AN-event-modal-close" id="AN-event-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="AN-event-modal-body">
                <div class="AN-event-modal-image" id="AN-event-modal-image"></div>
                <div class="AN-event-modal-info">
                    <div class="AN-event-calendar" id="AN-event-calendar">
                        <!-- Calendar will be generated here -->
                    </div>
                    <div class="AN-event-details">
                        <h3 id="AN-event-modal-subtitle"></h3>
                        <p id="AN-event-modal-body"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Reaction Modal (for comments) -->
    <div class="AN-reaction-modal" id="AN-reaction-modal">
        <div class="AN-reaction-modal-content">
            <div class="AN-reaction-modal-header">
                <h3 id="AN-reaction-modal-title"></h3>
                <button class="AN-reaction-modal-close" id="AN-reaction-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="AN-reaction-modal-body">
                <div class="AN-comment-form">
                    <textarea id="AN-comment-input" placeholder="Add your comment..." rows="4"></textarea>
                    <button id="AN-submit-comment" class="AN-btn AN-btn-primary">Post Comment</button>
                </div>
                <div class="AN-comments-list" id="AN-comments-list">
                    <!-- Comments will be loaded here -->
                </div>
            </div>
        </div>
    </div>
    <script src="pwa-main.js"></script>
    <script src="data.js"></script>
    <script src="data_processing.js"></script>
    <script src="translation.js"></script>
    <script src="app.js"></script>
    <script>
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const themeSwitch = document.getElementById('AN-theme-switch');
            const body = document.body;
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('AN-theme') || 
                              (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            if (savedTheme === 'dark') {
                body.classList.add('AN-dark-mode');
                themeSwitch.checked = true;
            }
            // Toggle theme
            themeSwitch.addEventListener('change', function() {
                if (this.checked) {
                    body.classList.add('AN-dark-mode');
                    localStorage.setItem('AN-theme', 'dark');
                } else {
                    body.classList.remove('AN-dark-mode');
                    localStorage.setItem('AN-theme', 'light');
                }
            });
            // Notification panel toggle
            const notificationToggle = document.getElementById('AN-notification-toggle');
            const notificationPanel = document.getElementById('AN-notification-panel');
            const closeNotifications = document.getElementById('AN-close-notifications');
            notificationToggle.addEventListener('click', function() {
                notificationPanel.classList.toggle('AN-active');
            });
            closeNotifications.addEventListener('click', function() {
                notificationPanel.classList.remove('AN-active');
            });
            // Close notification panel when clicking outside
            document.addEventListener('click', function(event) {
                if (!notificationToggle.contains(event.target) && 
                    !notificationPanel.contains(event.target)) {
                    notificationPanel.classList.remove('AN-active');
                }
            });
            // Initialize PWA if not already
            if ('serviceWorker' in navigator && !window.AN_PWA) {
                navigator.serviceWorker.register('/sw.js')
                    .then(() => console.log('Service Worker registered'))
                    .catch(err => console.error('Service Worker registration failed:', err));
            }
            // Initialize app
            if (typeof AN_initializeApp === 'function') {
                AN_initializeApp();
            }
        });
    </script>
</body>
</html>
```
## **6. main.css (Updated with Reaction Buttons)**
```css
/* main.css - Updated with reaction buttons and registration styles */
:root {
    --AN-primary-color: #4a6fa5;
    --AN-secondary-color: #166088;
    --AN-accent-color: #4fc3f7;
    --AN-success-color: #2ecc71;
    --AN-warning-color: #f39c12;
    --AN-danger-color: #e74c3c;
    --AN-text-color: #333;
    --AN-bg-color: #f8f9fa;
    --AN-card-bg: #ffffff;
    --AN-header-bg: #ffffff;
    --AN-footer-bg: #2c3e50;
    --AN-border-color: #e0e0e0;
    --AN-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --AN-radius: 8px;
    --AN-transition: all 0.3s ease;
}
.AN-dark-mode {
    --AN-primary-color: #64b5f6;
    --AN-secondary-color: #1976d2;
    --AN-accent-color: #29b6f6;
    --AN-success-color: #4caf50;
    --AN-warning-color: #ff9800;
    --AN-danger-color: #f44336;
    --AN-text-color: #e0e0e0;
    --AN-bg-color: #121212;
    --AN-card-bg: #1e1e1e;
    --AN-header-bg: #1e1e1e;
    --AN-footer-bg: #0d1117;
    --AN-border-color: #333;
    --AN-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
.AN-body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--AN-text-color);
    background-color: var(--AN-bg-color);
    transition: var(--AN-transition);
}
.AN-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}
/* Header Styles */
.AN-header {
    background-color: var(--AN-header-bg);
    box-shadow: var(--AN-shadow);
    position: sticky;
    top: 0;
    z-index: 100;
    transition: var(--AN-transition);
}
.AN-header-content {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    align-items: center;
    padding: 15px 0;
    gap: 50px;
}
/* Logo Section */
.AN-logo-section {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 10px;
}
.AN-logo-link {
    display: block;
    text-decoration: none;
}
.AN-logo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--AN-transition);
}
.AN-logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}
.AN-logo.fallback-logo {
    background: linear-gradient(135deg, var(--AN-primary-color), var(--AN-secondary-color));
    color: white;
    font-size: 24px;
}
/* Title Section */
.AN-title-section {
    text-align: center;
    margin-left: -25px;
    margin-right: -25px;
}
.AN-title {
    font-size: 24px;
    font-weight: 700;
    color: var(--AN-primary-color);
    margin: 0;
}
/* Options Card */
.AN-options-card {
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    padding: 8px 12px;
    box-shadow: var(--AN-shadow);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 15px;
}
.AN-controls-compact {
    display: flex;
    align-items: center;
    gap: 15px;
}
.AN-control-group {
    display: flex;
    align-items: center;
    gap: 6px;
}
.AN-control-label {
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
}
.AN-select {
    padding: 6px 8px;
    border-radius: var(--AN-radius);
    border: 1px solid var(--AN-border-color);
    background-color: var(--AN-card-bg);
    color: var(--AN-text-color);
    cursor: pointer;
    transition: var(--AN-transition);
    font-size: 12px;
    max-width: 100px;
}
.AN-theme-toggle {
    position: relative;
    width: 50px;
    height: 25px;
}
.AN-theme-checkbox {
    display: none;
}
.AN-theme-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--AN-secondary-color);
    border-radius: 34px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 6px;
    transition: var(--AN-transition);
}
.AN-theme-slider:before {
    content: "";
    position: absolute;
    height: 18px;
    width: 18px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    border-radius: 50%;
    transition: var(--AN-transition);
}
.AN-theme-checkbox:checked + .AN-theme-slider:before {
    transform: translateX(25px);
}
.AN-theme-icon {
    font-size: 12px;
    color: white;
    z-index: 1;
}
.AN-notification-btn {
    position: relative;
    background: none;
    border: none;
    font-size: 16px;
    color: var(--AN-text-color);
    cursor: pointer;
    padding: 6px;
    border-radius: 50%;
    transition: var(--AN-transition);
}
.AN-notification-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
}
.AN-dark-mode .AN-notification-btn:hover {
    background-color: rgba(255, 255, 255, 0.05);
}
.AN-notification-badge {
    position: absolute;
    top: 2px;
    right: 2px;
    background-color: var(--AN-danger-color);
    color: white;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    transition: var(--AN-transition);
}
/* Navigation */
.AN-nav {
    grid-column: 1 / -1;
    border-top: 1px solid var(--AN-border-color);
    padding: 15px 0;
}
.AN-nav-list {
    display: flex;
    list-style: none;
    gap: 20px;
    flex-wrap: wrap;
}
.AN-nav-link {
    text-decoration: none;
    color: var(--AN-text-color);
    font-weight: 500;
    transition: var(--AN-transition);
    padding: 8px 0;
    position: relative;
}
.AN-nav-link:hover {
    color: var(--AN-primary-color);
}
.AN-nav-link:after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: 0;
    left: 0;
    background-color: var(--AN-primary-color);
    transition: var(--AN-transition);
}
.AN-nav-link:hover:after {
    width: 100%;
}
/* Main Content Styles */
.AN-main {
    padding: 40px 0;
}
.AN-hero {
    display: flex;
    align-items: center;
    gap: 40px;
    margin-bottom: 60px;
}
.AN-hero-content {
    flex: 1;
}
.AN-hero-title {
    font-size: 48px;
    font-weight: 800;
    margin-bottom: 20px;
    background: linear-gradient(135deg, var(--AN-primary-color), var(--AN-accent-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.AN-hero-text {
    font-size: 18px;
    margin-bottom: 30px;
    color: var(--AN-text-color);
    opacity: 0.8;
}
/* Button Styles */
.AN-btn {
    padding: 12px 24px;
    border-radius: var(--AN-radius);
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: var(--AN-transition);
    display: inline-block;
    text-decoration: none;
    font-family: inherit;
    font-size: 16px;
}
.AN-btn-primary {
    background-color: var(--AN-primary-color);
    color: white;
}
.AN-btn-primary:hover {
    background-color: var(--AN-secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}
.AN-btn-secondary {
    background-color: transparent;
    border: 2px solid var(--AN-primary-color);
    color: var(--AN-primary-color);
}
.AN-btn-secondary:hover {
    background-color: var(--AN-primary-color);
    color: white;
}
.AN-btn-success {
    background-color: var(--AN-success-color);
    color: white;
}
.AN-btn-warning {
    background-color: var(--AN-warning-color);
    color: white;
}
.AN-btn-danger {
    background-color: var(--AN-danger-color);
    color: white;
}
.AN-hero-image {
    flex: 1;
    height: 300px;
    position: relative;
    border-radius: var(--AN-radius);
    overflow: hidden;
    background: linear-gradient(135deg, #1a237e, #283593);
}
.AN-planet {
    position: absolute;
    border-radius: 50%;
}
.AN-planet-1 {
    width: 80px;
    height: 80px;
    top: 50px;
    left: 50px;
    background: radial-gradient(circle at 30% 30%, #ff9800, #e65100);
    box-shadow: 0 0 20px rgba(255, 152, 0, 0.5);
}
.AN-planet-2 {
    width: 60px;
    height: 60px;
    top: 150px;
    right: 80px;
    background: radial-gradient(circle at 30% 30%, #2196f3, #0d47a1);
    box-shadow: 0 0 20px rgba(33, 150, 243, 0.5);
}
.AN-planet-3 {
    width: 40px;
    height: 40px;
    bottom: 50px;
    left: 150px;
    background: radial-gradient(circle at 30% 30%, #4caf50, #1b5e20);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
}
.AN-stars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, transparent),
        radial-gradient(2px 2px at 40px 70px, #fff, transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, #fff, transparent),
        radial-gradient(2px 2px at 160px 30px, #eee, transparent);
    background-repeat: repeat;
    background-size: 200px 100px;
}
.AN-section {
    margin-bottom: 60px;
}
.AN-section-title {
    font-size: 32px;
    margin-bottom: 30px;
    color: var(--AN-primary-color);
    position: relative;
    padding-bottom: 10px;
}
.AN-section-title:after {
    content: '';
    position: absolute;
    width: 60px;
    height: 3px;
    background-color: var(--AN-accent-color);
    bottom: 0;
    left: 0;
}
/* News Categories */
.AN-news-categories {
    display: flex;
    gap: 10px;
}
.AN-category-btn {
    padding: 8px 16px;
    border: 1px solid var(--AN-border-color);
    background-color: var(--AN-card-bg);
    color: var(--AN-text-color);
    border-radius: var(--AN-radius);
    cursor: pointer;
    transition: var(--AN-transition);
    font-size: 14px;
    font-weight: 500;
}
.AN-category-btn:hover {
    background-color: var(--AN-primary-color);
    color: white;
    border-color: var(--AN-primary-color);
}
.AN-category-active {
    background-color: var(--AN-primary-color);
    color: white;
    border-color: var(--AN-primary-color);
}
/* News Grid */
.AN-news-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 30px;
}
.AN-news-card {
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    overflow: hidden;
    box-shadow: var(--AN-shadow);
    transition: var(--AN-transition);
}
.AN-news-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}
.AN-dark-mode .AN-news-card:hover {
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}
.AN-news-image {
    height: 200px;
    overflow: hidden;
    position: relative;
}
.AN-image-placeholder {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    transition: var(--AN-transition);
}
.AN-news-card:hover .AN-image-placeholder {
    transform: scale(1.05);
}
.AN-news-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: var(--AN-primary-color);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
}
.AN-local-badge {
    background-color: var(--AN-danger-color);
}
.AN-global-badge {
    background-color: var(--AN-success-color);
}
/* Reaction Buttons */
.AN-reaction-buttons {
    display: flex;
    gap: 15px;
    padding: 15px 20px;
    border-top: 1px solid var(--AN-border-color);
    background-color: var(--AN-bg-color);
}
.AN-reaction-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: none;
    border: none;
    color: var(--AN-text-color);
    cursor: pointer;
    padding: 8px 16px;
    border-radius: var(--AN-radius);
    transition: var(--AN-transition);
    font-size: 14px;
}
.AN-reaction-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
}
.AN-dark-mode .AN-reaction-btn:hover {
    background-color: rgba(255, 255, 255, 0.05);
}
.AN-like-btn.active {
    color: var(--AN-success-color);
}
.AN-dislike-btn.active {
    color: var(--AN-danger-color);
}
.AN-reaction-count {
    font-weight: 600;
    font-size: 14px;
}
.AN-comment-btn {
    margin-left: auto;
}
.AN-share-btn {
    position: relative;
}
.AN-share-dropdown {
    position: absolute;
    bottom: 100%;
    right: 0;
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    box-shadow: var(--AN-shadow);
    padding: 10px;
    display: none;
    z-index: 10;
    min-width: 150px;
}
.AN-share-btn:hover .AN-share-dropdown {
    display: block;
}
.AN-share-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border: none;
    background: none;
    color: var(--AN-text-color);
    cursor: pointer;
    width: 100%;
    text-align: left;
    border-radius: 4px;
    transition: var(--AN-transition);
}
.AN-share-option:hover {
    background-color: var(--AN-bg-color);
}
.AN-news-content {
    padding: 20px;
}
.AN-news-title {
    font-size: 20px;
    margin-bottom: 10px;
    color: var(--AN-text-color);
}
.AN-news-excerpt {
    color: var(--AN-text-color);
    opacity: 0.8;
    margin-bottom: 15px;
    line-height: 1.5;
}
.AN-news-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
}
.AN-news-date {
    color: var(--AN-text-color);
    opacity: 0.6;
}
.AN-read-more {
    color: var(--AN-primary-color);
    text-decoration: none;
    font-weight: 500;
    transition: var(--AN-transition);
}
.AN-read-more:hover {
    color: var(--AN-secondary-color);
}
/* Events List */
.AN-events-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.AN-event-item {
    display: flex;
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    overflow: hidden;
    box-shadow: var(--AN-shadow);
    transition: var(--AN-transition);
}
.AN-event-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}
.AN-dark-mode .AN-event-item:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}
.AN-event-date {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background-color: var(--AN-primary-color);
    color: white;
    min-width: 100px;
}
.AN-event-day {
    font-size: 32px;
    font-weight: 700;
}
.AN-event-month {
    font-size: 16px;
    text-transform: uppercase;
}
.AN-event-details {
    padding: 20px;
    flex: 1;
}
.AN-event-title {
    font-size: 20px;
    margin-bottom: 10px;
    color: var(--AN-text-color);
}
.AN-event-description {
    color: var(--AN-text-color);
    opacity: 0.8;
    margin-bottom: 15px;
}
/* Footer Styles */
.AN-footer {
    background-color: var(--AN-footer-bg);
    color: #ecf0f1;
    padding: 25px 0 15px;
}
.AN-footer-content {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 25px;
    margin-bottom: 20px;
}
.AN-footer-title {
    font-size: 16px;
    margin-bottom: 12px;
    color: var(--AN-accent-color);
}
.AN-footer-text {
    line-height: 1.5;
    opacity: 0.8;
    font-size: 13px;
}
.AN-footer-links {
    list-style: none;
}
.AN-footer-links li {
    margin-bottom: 6px;
}
.AN-footer-links a {
    color: #ecf0f1;
    text-decoration: none;
    transition: var(--AN-transition);
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
}
.AN-footer-links a:hover {
    color: var(--AN-accent-color);
}
/* Notification Panel */
.AN-notification-panel {
    position: fixed;
    top: 0;
    right: -350px;
    width: 350px;
    height: 100vh;
    background-color: var(--AN-card-bg);
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    transition: var(--AN-transition);
    display: flex;
    flex-direction: column;
}
.AN-dark-mode .AN-notification-panel {
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
}
.AN-notification-panel.AN-active {
    right: 0;
}
.AN-notification-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid var(--AN-border-color);
}
.AN-notification-header h3 {
    margin: 0;
    color: var(--AN-primary-color);
}
.AN-close-btn {
    background: none;
    border: none;
    font-size: 18px;
    color: var(--AN-text-color);
    cursor: pointer;
    transition: var(--AN-transition);
    padding: 5px;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.AN-close-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
    color: var(--AN-primary-color);
}
.AN-dark-mode .AN-close-btn:hover {
    background-color: rgba(255, 255, 255, 0.05);
}
.AN-notification-list {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}
/* Event Modal */
.AN-event-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 2000;
    overflow-y: auto;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.AN-event-modal.AN-active {
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
}
.AN-event-modal-content {
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    width: 90%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transform: translateY(-20px);
    transition: transform 0.3s ease;
}
.AN-event-modal.AN-active .AN-event-modal-content {
    transform: translateY(0);
}
.AN-event-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid var(--AN-border-color);
    background-color: var(--AN-primary-color);
    color: white;
    border-radius: var(--AN-radius) var(--AN-radius) 0 0;
}
.AN-event-modal-header h2 {
    margin: 0;
    font-size: 24px;
    flex: 1;
}
.AN-event-modal-close {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.3s ease;
}
.AN-event-modal-close:hover {
    background-color: rgba(255, 255, 255, 0.2);
}
.AN-event-modal-body {
    padding: 20px;
}
/* Reaction Modal */
.AN-reaction-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 2000;
    overflow-y: auto;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.AN-reaction-modal.AN-active {
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
}
.AN-reaction-modal-content {
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transform: translateY(-20px);
    transition: transform 0.3s ease;
}
.AN-reaction-modal.AN-active .AN-reaction-modal-content {
    transform: translateY(0);
}
.AN-reaction-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid var(--AN-border-color);
}
.AN-reaction-modal-header h3 {
    margin: 0;
    color: var(--AN-primary-color);
}
.AN-reaction-modal-close {
    background: none;
    border: none;
    color: var(--AN-text-color);
    font-size: 20px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.3s ease;
}
.AN-reaction-modal-close:hover {
    background-color: rgba(0, 0, 0, 0.05);
}
.AN-dark-mode .AN-reaction-modal-close:hover {
    background-color: rgba(255, 255, 255, 0.05);
}
.AN-reaction-modal-body {
    padding: 20px;
}
.AN-comment-form {
    margin-bottom: 20px;
}
#AN-comment-input {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--AN-border-color);
    border-radius: var(--AN-radius);
    background-color: var(--AN-bg-color);
    color: var(--AN-text-color);
    font-family: inherit;
    font-size: 14px;
    resize: vertical;
    margin-bottom: 10px;
}
#AN-submit-comment {
    width: 100%;
}
.AN-comments-list {
    max-height: 400px;
    overflow-y: auto;
}
.AN-comment-item {
    padding: 15px;
    border-bottom: 1px solid var(--AN-border-color);
}
.AN-comment-author {
    font-weight: 600;
    color: var(--AN-primary-color);
    margin-bottom: 5px;
}
.AN-comment-content {
    margin-bottom: 10px;
    line-height: 1.5;
}
.AN-comment-meta {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: var(--AN-text-color);
    opacity: 0.7;
}
/* Registration Form */
.AN-registration-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 2000;
    overflow-y: auto;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.AN-registration-modal.AN-active {
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
}
.AN-registration-modal-content {
    background-color: var(--AN-card-bg);
    border-radius: var(--AN-radius);
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transform: translateY(-20px);
    transition: transform 0.3s ease;
}
.AN-registration-modal.AN-active .AN-registration-modal-content {
    transform: translateY(0);
}
.AN-registration-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid var(--AN-border-color);
}
.AN-registration-modal-header h3 {
    margin: 0;
    color: var(--AN-primary-color);
}
.AN-registration-modal-close {
    background: none;
    border: none;
    color: var(--AN-text-color);
    font-size: 20px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.3s ease;
}
.AN-registration-modal-close:hover {
    background-color: rgba(0, 0, 0, 0.05);
}
.AN-dark-mode .AN-registration-modal-close:hover {
    background-color: rgba(255, 255, 255, 0.05);
}
.AN-registration-modal-body {
    padding: 20px;
}
.AN-form-group {
    margin-bottom: 20px;
}
.AN-form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--AN-text-color);
}
.AN-form-input {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--AN-border-color);
    border-radius: var(--AN-radius);
    background-color: var(--AN-bg-color);
    color: var(--AN-text-color);
    font-family: inherit;
    font-size: 14px;
}
.AN-form-input:focus {
    outline: none;
    border-color: var(--AN-primary-color);
}
.AN-form-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
}
.AN-form-checkbox input {
    width: 16px;
    height: 16px;
}
.AN-registration-tabs {
    display: flex;
    border-bottom: 1px solid var(--AN-border-color);
    margin-bottom: 20px;
}
.AN-registration-tab {
    flex: 1;
    padding: 15px;
    background: none;
    border: none;
    color: var(--AN-text-color);
    cursor: pointer;
    font-weight: 500;
    transition: var(--AN-transition);
    border-bottom: 3px solid transparent;
}
.AN-registration-tab.active {
    color: var(--AN-primary-color);
    border-bottom-color: var(--AN-primary-color);
}
.AN-registration-form {
    display: none;
}
.AN-registration-form.active {
    display: block;
}
/* Responsive Design */
@media (max-width: 768px) {
    .AN-header-content {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    .AN-logo-section {
        justify-content: center;
    }
    .AN-title-section {
        order: 3;
        text-align: center;
        margin-left: 0;
        margin-right: 0;
    }
    .AN-options-card {
        order: 2;
        justify-content: center;
        padding: 10px;
    }
    .AN-hero {
        flex-direction: column;
    }
    .AN-hero-title {
        font-size: 36px;
    }
    .AN-news-grid {
        grid-template-columns: 1fr;
    }
    .AN-event-item {
        flex-direction: column;
    }
    .AN-event-date {
        flex-direction: row;
        justify-content: flex-start;
        gap: 10px;
        min-width: auto;
    }
    .AN-notification-panel {
        width: 100%;
        right: -100%;
    }
    .AN-control-label {
        display: none;
    }
    .AN-reaction-buttons {
        flex-wrap: wrap;
        justify-content: center;
    }
    .AN-comment-btn {
        margin-left: 0;
    }
    .AN-footer-content {
        grid-template-columns: 1fr;
        gap: 15px;
    }
}
@media (min-width: 769px) and (max-width: 1024px) {
    .AN-header-content {
        grid-template-columns: 1fr 2fr 1fr;
        gap: 40px;
    }
    .AN-control-label {
        display: none;
    }
}
/* RTL support */
.AN-rtl .AN-section-title:after {
    left: auto;
    right: 0;
}
.AN-rtl .AN-nav-link:after {
    left: auto;
    right: 0;
}
.AN-rtl .AN-nav-list {
    padding-right: 0;
}
.AN-rtl .AN-control-group {
    flex-direction: row-reverse;
}
.AN-rtl .AN-event-date {
    order: 2;
}
.AN-rtl .AN-event-details {
    order: 1;
}
.AN-rtl .AN-header-content {
    direction: rtl;
}
.AN-rtl .AN-logo-section {
    justify-content: flex-end;
}
.AN-rtl .AN-options-card {
    justify-content: flex-start;
}
.AN-rtl .AN-hero {
    flex-direction: row-reverse;
}
.AN-rtl .AN-news-badge {
    right: auto;
    left: 10px;
}
.AN-rtl .AN-news-categories {
    direction: rtl;
}
.AN-rtl .AN-notification-unread-dot {
    right: auto;
    left: 10px;
}
.AN-rtl .AN-notification-item {
    direction: rtl;
}
.AN-rtl .AN-share-dropdown {
    right: auto;
    left: 0;
}
.AN-rtl .AN-reaction-buttons {
    direction: rtl;
}
.AN-rtl .AN-comment-btn {
    margin-left: 0;
    margin-right: auto;
}
@media (max-width: 768px) {
    .AN-rtl .AN-event-date {
        flex-direction: row-reverse;
    }
    .AN-rtl .AN-hero {
        flex-direction: column-reverse;
    }
}
```
## **7. translation.js (Enhanced with Reaction Keys)**
```javascript
// translation.js - Enhanced with reaction and registration keys
const AN_translations = {
    en: {
        // Existing translations
        'An.index.title': 'Astronomy News',
        'An.index.language': 'Language:',
        'An.index.theme': 'Theme:',
        'An.index.home': 'Home',
        'An.index.news': 'News',
        'An.index.missions': 'Missions',
        'An.index.explore': 'Explore Astronomy',
        'An.index.gallery': 'Gallery',
        'An.index.about': 'About',
        'An.index.heroTitle': 'Exploring the Universe',
        'An.index.heroText': 'Latest discoveries, missions, and cosmic events from across the universe',
        'An.index.exploreBtn': 'Explore News',
        'An.index.featuredNews': 'Featured News',
        'An.index.allNews': 'All News',
        'An.index.globalNews': 'Global News',
        'An.index.localNews': 'Tunisia News',
        'An.index.readMore': 'Read More',
        'An.index.upcomingEvents': 'Upcoming Events',
        'An.index.aboutUs': 'About Us',
        'An.index.aboutText': 'Astronomy News brings you the latest news and discoveries from the world of astronomy and space exploration.',
        'An.index.quickLinks': 'Quick Links',
        'An.index.developer': 'Developer',
        'An.index.legal': 'Legal',
        'An.index.privacyPolicy': 'Privacy Policy',
        'An.index.termsOfUse': 'Terms of Use',
        'An.index.notifications': 'Notifications',
        'An.index.markAllRead': 'Mark all as read',
        'An.index.noNotifications': 'No new notifications',
        'An.index.timeAgo': '2 hours ago',
        'An.index.eventDetails': 'Event Details',
        'An.index.close': 'Close',
        // New reaction and registration keys
        'An.reaction.like': 'Like',
        'An.reaction.dislike': 'Dislike',
        'An.reaction.comment': 'Comment',
        'An.reaction.comments': 'Comments',
        'An.reaction.share': 'Share',
        'An.reaction.shareFacebook': 'Share on Facebook',
        'An.reaction.shareTwitter': 'Share on Twitter',
        'An.reaction.shareLinkedIn': 'Share on LinkedIn',
        'An.reaction.shareWhatsApp': 'Share on WhatsApp',
        'An.reaction.copyLink': 'Copy Link',
        'An.reaction.addComment': 'Add a comment...',
        'An.reaction.postComment': 'Post Comment',
        'An.reaction.noComments': 'No comments yet. Be the first!',
        'An.reaction.loadingComments': 'Loading comments...',
        'An.auth.login': 'Login',
        'An.auth.register': 'Register',
        'An.auth.logout': 'Logout',
        'An.auth.profile': 'Profile',
        'An.auth.username': 'Username',
        'An.auth.password': 'Password',
        'An.auth.email': 'Email',
        'An.auth.name': 'Full Name',
        'An.auth.confirmPassword': 'Confirm Password',
        'An.auth.rememberMe': 'Remember me',
        'An.auth.forgotPassword': 'Forgot password?',
        'An.auth.noAccount': 'Don\'t have an account?',
        'An.auth.haveAccount': 'Already have an account?',
        'An.auth.signUp': 'Sign Up',
        'An.auth.signIn': 'Sign In',
        'An.auth.or': 'or',
        'An.auth.loginWithGoogle': 'Login with Google',
        'An.auth.loginWithFacebook': 'Login with Facebook',
        'An.auth.agreeTerms': 'I agree to the Terms and Privacy Policy',
        'An.validation.required': 'This field is required',
        'An.validation.email': 'Please enter a valid email',
        'An.validation.passwordLength': 'Password must be at least 6 characters',
        'An.validation.passwordMatch': 'Passwords do not match',
        'An.validation.usernameLength': 'Username must be 3-20 characters',
        'An.message.loginSuccess': 'Logged in successfully!',
        'An.message.registerSuccess': 'Account created successfully!',
        'An.message.logoutSuccess': 'Logged out successfully!',
        'An.message.reactionAdded': 'Reaction added!',
        'An.message.commentAdded': 'Comment posted!',
        'An.message.shareSuccess': 'Link copied to clipboard!',
        'An.message.error': 'Something went wrong. Please try again.',
        'An.message.offline': 'You are offline. Changes will sync when you reconnect.',
        'An.stats.likes': 'Likes',
        'An.stats.dislikes': 'Dislikes',
        'An.stats.comments': 'Comments',
        'An.stats.views': 'Views',
        'An.stats.shares': 'Shares'
    },
    fr: {
        // Existing French translations
        'An.index.title': 'Actualités Astronomiques',
        'An.index.language': 'Langue:',
        'An.index.theme': 'Thème:',
        'An.index.home': 'Accueil',
        'An.index.news': 'Actualités',
        'An.index.missions': 'Missions',
        'An.index.explore': 'Explorer l\'Astronomie',
        'An.index.gallery': 'Galerie',
        'An.index.about': 'À propos',
        'An.index.heroTitle': 'Explorer l\'Univers',
        'An.index.heroText': 'Dernières découvertes, missions et événements cosmiques de l\'univers entier',
        'An.index.exploreBtn': 'Explorer les actualités',
        'An.index.featuredNews': 'Actualités en vedette',
        'An.index.allNews': 'Toutes les actualités',
        'An.index.globalNews': 'Actualités Mondiales',
        'An.index.localNews': 'Actualités Tunisie',
        'An.index.readMore': 'Lire la suite',
        'An.index.eventDetails': 'Détails de l\'événement',
        'An.index.close': 'Fermer',
        'An.index.upcomingEvents': 'Événements à venir',
        'An.index.aboutUs': 'À propos de nous',
        'An.index.aboutText': 'Actualités Astronomiques vous apporte les dernières nouvelles et découvertes du monde de l\'astronomie et de l\'exploration spatiale.',
        'An.index.quickLinks': 'Liens rapides',
        'An.index.developer': 'Développeur',
        'An.index.legal': 'Légal',
        'An.index.privacyPolicy': 'Politique de confidentialité',
        'An.index.termsOfUse': 'Conditions d\'utilisation',
        'An.index.notifications': 'Notifications',
        'An.index.markAllRead': 'Tout marquer comme lu',
        'An.index.noNotifications': 'Aucune nouvelle notification',
        'An.index.timeAgo': 'Il y a 2 heures',
        // New French translations
        'An.reaction.like': 'J\'aime',
        'An.reaction.dislike': 'Je n\'aime pas',
        'An.reaction.comment': 'Commenter',
        'An.reaction.comments': 'Commentaires',
        'An.reaction.share': 'Partager',
        'An.reaction.shareFacebook': 'Partager sur Facebook',
        'An.reaction.shareTwitter': 'Partager sur Twitter',
        'An.reaction.shareLinkedIn': 'Partager sur LinkedIn',
        'An.reaction.shareWhatsApp': 'Partager sur WhatsApp',
        'An.reaction.copyLink': 'Copier le lien',
        'An.reaction.addComment': 'Ajouter un commentaire...',
        'An.reaction.postComment': 'Publier le commentaire',
        'An.reaction.noComments': 'Aucun commentaire. Soyez le premier !',
        'An.reaction.loadingComments': 'Chargement des commentaires...',
        'An.auth.login': 'Connexion',
        'An.auth.register': 'Inscription',
        'An.auth.logout': 'Déconnexion',
        'An.auth.profile': 'Profil',
        'An.auth.username': 'Nom d\'utilisateur',
        'An.auth.password': 'Mot de passe',
        'An.auth.email': 'Email',
        'An.auth.name': 'Nom complet',
        'An.auth.confirmPassword': 'Confirmer le mot de passe',
        'An.auth.rememberMe': 'Se souvenir de moi',
        'An.auth.forgotPassword': 'Mot de passe oublié ?',
        'An.auth.noAccount': 'Pas de compte ?',
        'An.auth.haveAccount': 'Déjà un compte ?',
        'An.auth.signUp': 'S\'inscrire',
        'An.auth.signIn': 'Se connecter',
        'An.auth.or': 'ou',
        'An.auth.loginWithGoogle': 'Se connecter avec Google',
        'An.auth.loginWithFacebook': 'Se connecter avec Facebook',
        'An.auth.agreeTerms': 'J\'accepte les Conditions et la Politique de confidentialité',
        'An.validation.required': 'Ce champ est requis',
        'An.validation.email': 'Veuillez entrer un email valide',
        'An.validation.passwordLength': 'Le mot de passe doit contenir au moins 6 caractères',
        'An.validation.passwordMatch': 'Les mots de passe ne correspondent pas',
        'An.validation.usernameLength': 'Le nom d\'utilisateur doit contenir 3 à 20 caractères',
        'An.message.loginSuccess': 'Connecté avec succès !',
        'An.message.registerSuccess': 'Compte créé avec succès !',
        'An.message.logoutSuccess': 'Déconnecté avec succès !',
        'An.message.reactionAdded': 'Réaction ajoutée !',
        'An.message.commentAdded': 'Commentaire publié !',
        'An.message.shareSuccess': 'Lien copié dans le presse-papiers !',
        'An.message.error': 'Quelque chose s\'est mal passé. Veuillez réessayer.',
        'An.message.offline': 'Vous êtes hors ligne. Les modifications se synchroniseront lorsque vous vous reconnecterez.',
        'An.stats.likes': 'J\'aime',
        'An.stats.dislikes': 'Je n\'aime pas',
        'An.stats.comments': 'Commentaires',
        'An.stats.views': 'Vues',
        'An.stats.shares': 'Partages'
    },
    ar: {
        // Existing Arabic translations
        'An.index.title': 'أخبار الفلك',
        'An.index.language': 'اللغة:',
        'An.index.theme': 'المظهر:',
        'An.index.home': 'الرئيسية',
        'An.index.news': 'الأخبار',
        'An.index.explore': 'استكشف علم الفلك',
        'An.index.missions': 'البعثات',
        'An.index.gallery': 'المعرض',
        'An.index.about': 'حول',
        'An.index.heroTitle': 'استكشاف الكون',
        'An.index.heroText': 'أحدث الاكتشافات والمهام والأحداث الكونية من جميع أنحاء الكون',
        'An.index.exploreBtn': 'استكشف الأخبار',
        'An.index.featuredNews': 'أبرز الأخبار',
        'An.index.allNews': 'جميع الأخبار',
        'An.index.globalNews': 'الأخبار العالمية',
        'An.index.localNews': 'أخبار تونس',
        'An.index.readMore': 'اقرأ المزيد',
        'An.index.eventDetails': 'تفاصيل الحدث',
        'An.index.close': 'إغلاق',
        'An.index.upcomingEvents': 'الأحداث القادمة',
        'An.index.aboutUs': 'معلومات عنا',
        'An.index.aboutText': 'تقدم لك أخبار الفلك آخر الأخبار والاكتشافات من عالم الفلك واستكشاف الفضاء.',
        'An.index.quickLinks': 'روابط سريعة',
        'An.index.developer': 'المطور',
        'An.index.legal': 'قانوني',
        'An.index.privacyPolicy': 'سياسة الخصوصية',
        'An.index.termsOfUse': 'شروط الاستخدام',
        'An.index.notifications': 'الإشعارات',
        'An.index.markAllRead': 'تحديد الكل كمقروء',
        'An.index.noNotifications': 'لا توجد إشعارات جديدة',
        'An.index.timeAgo': 'قبل ساعتين',
        // New Arabic translations
        'An.reaction.like': 'إعجاب',
        'An.reaction.dislike': 'عدم إعجاب',
        'An.reaction.comment': 'تعليق',
        'An.reaction.comments': 'التعليقات',
        'An.reaction.share': 'مشاركة',
        'An.reaction.shareFacebook': 'مشاركة على فيسبوك',
        'An.reaction.shareTwitter': 'مشاركة على تويتر',
        'An.reaction.shareLinkedIn': 'مشاركة على لينكد إن',
        'An.reaction.shareWhatsApp': 'مشاركة على واتساب',
        'An.reaction.copyLink': 'نسخ الرابط',
        'An.reaction.addComment': 'أضف تعليقاً...',
        'An.reaction.postComment': 'نشر التعليق',
        'An.reaction.noComments': 'لا توجد تعليقات بعد. كن أول من يعلق!',
        'An.reaction.loadingComments': 'جاري تحميل التعليقات...',
        'An.auth.login': 'تسجيل الدخول',
        'An.auth.register': 'تسجيل',
        'An.auth.logout': 'تسجيل الخروج',
        'An.auth.profile': 'الملف الشخصي',
        'An.auth.username': 'اسم المستخدم',
        'An.auth.password': 'كلمة المرور',
        'An.auth.email': 'البريد الإلكتروني',
        'An.auth.name': 'الاسم الكامل',
        'An.auth.confirmPassword': 'تأكيد كلمة المرور',
        'An.auth.rememberMe': 'تذكرني',
        'An.auth.forgotPassword': 'نسيت كلمة المرور؟',
        'An.auth.noAccount': 'ليس لديك حساب؟',
        'An.auth.haveAccount': 'لديك حساب بالفعل؟',
        'An.auth.signUp': 'إنشاء حساب',
        'An.auth.signIn': 'دخول',
        'An.auth.or': 'أو',
        'An.auth.loginWithGoogle': 'الدخول بحساب جوجل',
        'An.auth.loginWithFacebook': 'الدخول بحساب فيسبوك',
        'An.auth.agreeTerms': 'أوافق على الشروط وسياسة الخصوصية',
        'An.validation.required': 'هذا الحقل مطلوب',
        'An.validation.email': 'الرجاء إدخال بريد إلكتروني صالح',
        'An.validation.passwordLength': 'كلمة المرور يجب أن تكون 6 أحرف على الأقل',
        'An.validation.passwordMatch': 'كلمات المرور غير متطابقة',
        'An.validation.usernameLength': 'اسم المستخدم يجب أن يكون بين 3 و20 حرفاً',
        'An.message.loginSuccess': 'تم تسجيل الدخول بنجاح!',
        'An.message.registerSuccess': 'تم إنشاء الحساب بنجاح!',
        'An.message.logoutSuccess': 'تم تسجيل الخروج بنجاح!',
        'An.message.reactionAdded': 'تمت إضافة رد الفعل!',
        'An.message.commentAdded': 'تم نشر التعليق!',
        'An.message.shareSuccess': 'تم نسخ الرابط إلى الحافظة!',
        'An.message.error': 'حدث خطأ. يرجى المحاولة مرة أخرى.',
        'An.message.offline': 'أنت غير متصل بالإنترنت. سيتم مزامنة التغييرات عند إعادة الاتصال.',
        'An.stats.likes': 'الإعجابات',
        'An.stats.dislikes': 'عدم الإعجاب',
        'An.stats.comments': 'التعليقات',
        'An.stats.views': 'المشاهدات',
        'An.stats.shares': 'المشاركات'
    }
};
// Export for modular use
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { AN_translations };
}
```
## **8. app.js (New - Main Application Logic)**
```javascript
// app.js - Main application logic for Astronomy News
const AN_app = {
    // Configuration
    config: {
        supabaseUrl: 'https://cmicjfgettavzilduqgq.supabase.co',
        supabaseKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtaWNqZmdldHRhdnppbGR1cWdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAxMTIsImV4cCI6MjA4MTkyNjExMn0.7eGpPAfDPKGIhYRR17yCxxMi1pRkKSTf7qxICZGcw0c',
        apiBase: '/api',
        version: '1.0.0'
    },
    // State
    state: {
        user: null,
        currentLanguage: 'en',
        currentTheme: 'light',
        notifications: [],
        offlineQueue: [],
        isOnline: navigator.onLine
    },
    // Initialize app
    initialize: function() {
        console.log('Initializing Astronomy News App...');
        // Load user state
        this.loadUserState();
        // Set up event listeners
        this.setupEventListeners();
        // Check for service worker updates
        this.checkForUpdates();
        // Initialize offline sync
        this.initializeOfflineSync();
        // Load initial data
        this.loadInitialData();
        console.log('App initialized successfully');
    },
    // Load user state from localStorage
    loadUserState: function() {
        const savedUser = localStorage.getItem('AN_user');
        const savedLanguage = localStorage.getItem('AN-language-preference') || 'en';
        const savedTheme = localStorage.getItem('AN-theme') || 
                          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        if (savedUser) {
            try {
                this.state.user = JSON.parse(savedUser);
            } catch (e) {
                console.error('Error parsing saved user:', e);
                localStorage.removeItem('AN_user');
            }
        }
        this.state.currentLanguage = savedLanguage;
        this.state.currentTheme = savedTheme;
        // Update UI based on state
        this.updateUIState();
    },
    // Set up event listeners
    setupEventListeners: function() {
        // Online/offline detection
        window.addEventListener('online', () => {
            this.state.isOnline = true;
            this.syncOfflineQueue();
        });
        window.addEventListener('offline', () => {
            this.state.isOnline = false;
            this.showOfflineMessage();
        });
        // Before unload - save state
        window.addEventListener('beforeunload', () => {
            this.saveUserState();
        });
        // Visibility change
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && this.state.isOnline) {
                this.checkForNewContent();
            }
        });
    },
    // Update UI based on app state
    updateUIState: function() {
        // Update language
        if (typeof AN_applyTranslations === 'function') {
            AN_applyTranslations(this.state.currentLanguage);
        }
        // Update theme
        document.body.classList.toggle('AN-dark-mode', this.state.currentTheme === 'dark');
        const themeSwitch = document.getElementById('AN-theme-switch');
        if (themeSwitch) {
            themeSwitch.checked = this.state.currentTheme === 'dark';
        }
        // Update user UI
        this.updateUserUI();
    },
    // Update user-related UI
    updateUserUI: function() {
        const loginBtn = document.getElementById('AN-login-btn');
        const userMenu = document.getElementById('AN-user-menu');
        if (this.state.user) {
            // User is logged in
            if (loginBtn) loginBtn.style.display = 'none';
            if (userMenu) {
                userMenu.style.display = 'flex';
                const userName = userMenu.querySelector('.AN-user-name');
                if (userName) {
                    userName.textContent = this.state.user.name || this.state.user.user_name;
                }
            }
        } else {
            // User is not logged in
            if (loginBtn) loginBtn.style.display = 'block';
            if (userMenu) userMenu.style.display = 'none';
        }
    },
    // Authentication methods
    login: async function(email, password) {
        try {
            // In a real app, this would call Supabase Auth
            // For now, we'll simulate authentication
            const response = await fetch(`${this.config.supabaseUrl}/auth/v1/token?grant_type=password`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': this.config.supabaseKey
                },
                body: JSON.stringify({ email, password })
            });
            if (!response.ok) {
                throw new Error('Login failed');
            }
            const data = await response.json();
            // Get user profile
            const userResponse = await fetch(`${this.config.supabaseUrl}/rest/v1/users?email=eq.${email}`, {
                headers: {
                    'apikey': this.config.supabaseKey,
                    'Authorization': `Bearer ${data.access_token}`
                }
            });
            const userData = await userResponse.json();
            if (userData && userData.length > 0) {
                this.state.user = {
                    ...userData[0],
                    token: data.access_token
                };
                this.saveUserState();
                this.updateUserUI();
                this.showMessage('An.message.loginSuccess');
                return true;
            }
            return false;
        } catch (error) {
            console.error('Login error:', error);
            this.showMessage('An.message.error');
            return false;
        }
    },
    register: async function(userData) {
        try {
            // First, create auth user
            const authResponse = await fetch(`${this.config.supabaseUrl}/auth/v1/signup`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': this.config.supabaseKey
                },
                body: JSON.stringify({
                    email: userData.email,
                    password: userData.password
                })
            });
            if (!authResponse.ok) {
                throw new Error('Registration failed');
            }
            // Then create user profile
            const profileResponse = await fetch(`${this.config.supabaseUrl}/rest/v1/users`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': this.config.supabaseKey,
                    'Prefer': 'return=representation'
                },
                body: JSON.stringify({
                    name: userData.name,
                    user_name: userData.username,
                    email: userData.email,
                    preferences: {
                        language: this.state.currentLanguage,
                        theme: this.state.currentTheme,
                        notifications: true,
                        email_updates: false
                    }
                })
            });
            const profileData = await profileResponse.json();
            if (profileData && profileData.length > 0) {
                this.showMessage('An.message.registerSuccess');
                return true;
            }
            return false;
        } catch (error) {
            console.error('Registration error:', error);
            this.showMessage('An.message.error');
            return false;
        }
    },
    logout: function() {
        this.state.user = null;
        localStorage.removeItem('AN_user');
        this.updateUserUI();
        this.showMessage('An.message.logoutSuccess');
    },
    // Reaction methods
    addReaction: async function(itemId, itemType, reactionType) {
        if (!this.state.user) {
            this.showLoginPrompt();
            return false;
        }
        const reaction = {
            user_id: this.state.user.user_id,
            item_id: itemId,
            item_type: itemType,
            reaction_type: reactionType,
            created_at: new Date().toISOString()
        };
        if (!this.state.isOnline) {
            // Queue for offline sync
            this.addToOfflineQueue('reaction', reaction);
            this.showMessage('An.message.offline');
            return true;
        }
        try {
            const response = await fetch(`${this.config.supabaseUrl}/rest/v1/reactions`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': this.config.supabaseKey,
                    'Authorization': `Bearer ${this.state.user?.token || this.config.supabaseKey}`
                },
                body: JSON.stringify(reaction)
            });
            if (response.ok) {
                this.showMessage('An.message.reactionAdded');
                this.updateReactionUI(itemId, itemType, reactionType);
                return true;
            }
            return false;
        } catch (error) {
            console.error('Reaction error:', error);
            this.addToOfflineQueue('reaction', reaction);
            return false;
        }
    },
    // Comment methods
    addComment: async function(itemId, itemType, content) {
        if (!this.state.user) {
            this.showLoginPrompt();
            return false;
        }
        const comment = {
            user_id: this.state.user.user_id,
            item_id: itemId,
            item_type: itemType,
            content: content,
            created_at: new Date().toISOString()
        };
        if (!this.state.isOnline) {
            this.addToOfflineQueue('comment', comment);
            this.showMessage('An.message.offline');
            return true;
        }
        try {
            const response = await fetch(`${this.config.supabaseUrl}/rest/v1/comments`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'apikey': this.config.supabaseKey,
                    'Authorization': `Bearer ${this.state.user?.token || this.config.supabaseKey}`
                },
                body: JSON.stringify(comment)
            });
            if (response.ok) {
                this.showMessage('An.message.commentAdded');
                return true;
            }
            return false;
        } catch (error) {
            console.error('Comment error:', error);
            this.addToOfflineQueue('comment', comment);
            return false;
        }
    },
    // Share methods
    shareItem: function(itemId, itemType, platform) {
        const url = `${window.location.origin}/${itemType === 'news' ? 'AN_news.html' : 'index.html'}?id=${itemId}`;
        const title = document.title;
        switch (platform) {
            case 'facebook':
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
                break;
            case 'twitter':
                window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`, '_blank');
                break;
            case 'linkedin':
                window.open(`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`, '_blank');
                break;
            case 'whatsapp':
                window.open(`https://wa.me/?text=${encodeURIComponent(title + ' ' + url)}`, '_blank');
                break;
            case 'copy':
                navigator.clipboard.writeText(url).then(() => {
                    this.showMessage('An.message.shareSuccess');
                });
                break;
        }
    },
    // UI update methods
    updateReactionUI: function(itemId, itemType, reactionType) {
        // Find the reaction buttons for this item
        const buttons = document.querySelectorAll(`[data-item-id="${itemId}"][data-item-type="${itemType}"]`);
        buttons.forEach(button => {
            if (button.dataset.reactionType === reactionType) {
                button.classList.add('active');
                // Update count
                const countSpan = button.querySelector('.AN-reaction-count');
                if (countSpan) {
                    let count = parseInt(countSpan.textContent) || 0;
                    countSpan.textContent = count + 1;
                }
            } else {
                button.classList.remove('active');
            }
        });
    },
    // Offline handling
    initializeOfflineSync: function() {
        // Load offline queue from localStorage
        const savedQueue = localStorage.getItem('AN_offline_queue');
        if (savedQueue) {
            try {
                this.state.offlineQueue = JSON.parse(savedQueue);
            } catch (e) {
                console.error('Error parsing offline queue:', e);
                localStorage.removeItem('AN_offline_queue');
            }
        }
        // Set up periodic sync
        if ('serviceWorker' in navigator && 'SyncManager' in window) {
            navigator.serviceWorker.ready.then(registration => {
                registration.sync.register('sync-reactions');
                registration.sync.register('sync-comments');
            });
        }
    },
    addToOfflineQueue: function(type, data) {
        this.state.offlineQueue.push({ type, data, timestamp: Date.now() });
        localStorage.setItem('AN_offline_queue', JSON.stringify(this.state.offlineQueue));
        // Trigger background sync if available
        if ('serviceWorker' in navigator && 'SyncManager' in window) {
            navigator.serviceWorker.ready.then(registration => {
                if (type === 'reaction') {
                    registration.sync.register('sync-reactions');
                } else if (type === 'comment') {
                    registration.sync.register('sync-comments');
                }
            });
        }
    },
    syncOfflineQueue: async function() {
        if (this.state.offlineQueue.length === 0 || !this.state.isOnline) {
            return;
        }
        const queue = [...this.state.offlineQueue];
        this.state.offlineQueue = [];
        for (const item of queue) {
            try {
                if (item.type === 'reaction') {
                    await this.addReaction(
                        item.data.item_id,
                        item.data.item_type,
                        item.data.reaction_type
                    );
                } else if (item.type === 'comment') {
                    await this.addComment(
                        item.data.item_id,
                        item.data.item_type,
                        item.data.content
                    );
                }
            } catch (error) {
                console.error('Failed to sync item:', error);
                this.state.offlineQueue.push(item);
            }
        }
        localStorage.setItem('AN_offline_queue', JSON.stringify(this.state.offlineQueue));
    },
    // Utility methods
    showMessage: function(messageKey) {
        const message = AN_translations[this.state.currentLanguage][messageKey] || messageKey;
        // Create toast notification
        const toast = document.createElement('div');
        toast.className = 'AN-toast';
        toast.textContent = message;
        toast.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--AN-primary-color);
            color: white;
            padding: 12px 24px;
            border-radius: var(--AN-radius);
            box-shadow: var(--AN-shadow);
            z-index: 9999;
            animation: AN-toast-slide-in 0.3s ease;
        `;
        document.body.appendChild(toast);
        setTimeout(() => {
            toast.style.animation = 'AN-toast-slide-out 0.3s ease';
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 300);
        }, 3000);
    },
    showOfflineMessage: function() {
        this.showMessage('An.message.offline');
    },
    showLoginPrompt: function() {
        // Show login modal or redirect to login
        const loginModal = document.getElementById('AN-login-modal');
        if (loginModal) {
            loginModal.classList.add('AN-active');
        } else {
            this.showMessage('An.auth.loginRequired');
        }
    },
    saveUserState: function() {
        if (this.state.user) {
            localStorage.setItem('AN_user', JSON.stringify(this.state.user));
        }
        localStorage.setItem('AN-language-preference', this.state.currentLanguage);
        localStorage.setItem('AN-theme', this.state.currentTheme);
    },
    checkForUpdates: function() {
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistration().then(registration => {
                if (registration) {
                    registration.update();
                }
            });
        }
    },
    checkForNewContent: function() {
        // Check for new news/events
        // This would be implemented with real API calls
        console.log('Checking for new content...');
    },
    loadInitialData: function() {
        // Load initial news and events
        if (typeof AN_renderNews === 'function') {
            AN_renderNews(this.state.currentLanguage, 'all');
        }
        if (typeof AN_renderEvents === 'function') {
            AN_renderEvents(this.state.currentLanguage);
        }
        if (typeof AN_renderNotifications === 'function') {
            AN_renderNotifications(this.state.currentLanguage);
        }
    }
};
// Initialize app when DOM is loaded
function AN_initializeApp() {
    AN_app.initialize();
    // Set up reaction button handlers
    document.addEventListener('click', function(e) {
        // Like button
        if (e.target.closest('.AN-like-btn')) {
            const button = e.target.closest('.AN-like-btn');
            const itemId = button.dataset.itemId;
            const itemType = button.dataset.itemType;
            AN_app.addReaction(itemId, itemType, 'like');
        }
        // Dislike button
        if (e.target.closest('.AN-dislike-btn')) {
            const button = e.target.closest('.AN-dislike-btn');
            const itemId = button.dataset.itemId;
            const itemType = button.dataset.itemType;
            AN_app.addReaction(itemId, itemType, 'dislike');
        }
        // Comment button
        if (e.target.closest('.AN-comment-btn')) {
            const button = e.target.closest('.AN-comment-btn');
            const itemId = button.dataset.itemId;
            const itemType = button.dataset.itemType;
            AN_app.openCommentModal(itemId, itemType);
        }
        // Share button
        if (e.target.closest('.AN-share-option')) {
            const option = e.target.closest('.AN-share-option');
            const platform = option.dataset.platform;
            const itemId = option.closest('.AN-share-btn').dataset.itemId;
            const itemType = option.closest('.AN-share-btn').dataset.itemType;
            AN_app.shareItem(itemId, itemType, platform);
        }
    });
}
// Add toast animation styles
const toastStyles = `
@keyframes AN-toast-slide-in {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}
@keyframes AN-toast-slide-out {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}
`;
// Add styles to document
if (document.head) {
    const style = document.createElement('style');
    style.textContent = toastStyles;
    document.head.appendChild(style);
}
// Export for modular use
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { AN_app, AN_initializeApp };
}
```
## **9.(Empty for now)**
**data_news.js**
```javascript
// data.js - Updated with categories and Tunisian data
const AN_data = [
    // Global News
    {
		id: 'news-001',
		type: 'news',
		category: 'global',
		image: 'assets2/images/news/gamma-ray-burst.jpg',
		date: '2025-12-10',
		en: {
			title: 'Record-Breaking Gamma-Ray Burst Stuns Astronomers',
			subtitle: 'Unprecedented seven-hour event challenges existing astrophysical models',
			body: 'On July 2, 2025, astronomers detected GRB 250702B, a gamma-ray burst that lasted over seven hours instead of the typical seconds to minutes. Observations from NASA\'s Fermi satellite, ground-based telescopes including the Víctor M. Blanco and Gemini instruments, and the James Webb Space Telescope revealed a relativistic jet in a dusty, massive galaxy 8 billion light-years away. The event\'s extraordinary duration challenges current collapsar models, with scientists considering alternative explanations like tidal disruption events involving intermediate-mass black holes.'
		},
		ar: {
			title: 'انفجار أشعة غاما قياسي يُحيّر الفلكيين',
			subtitle: 'حدث غير مسبوق يستمر لسبع ساعات يتحدى النماذج الفيزيائية الفلكية الحالية',
			body: 'في 2 جويلية 2025، رصد الفلكيون انفجار أشعة غاما GRB 250702B الذي استمر لأكثر من سبع ساعات بدلاً من الثواني أو الدقائق المعتادة. كشفت عمليات الرصد من قمر فيرمي التابع لناسا، والتلسكوبات الأرضية بما فيها تلسكوبات Víctor M. Blanco وGemini، وتلسكوب جيمس ويب الفضائي عن نفث نسبي في مجرة غبارية ضخمة تبعد 8 مليارات سنة ضوئية. تتحدى المدة غير المسبوقة للحدث النماذج الحالية لانفجارات المستعرات العظمى الضخمة، مما دفع العلماء لبحث تفسيرات بديلة مثل أحداث تمزق المد والجزر المتضمنة ثقوباً سوداء متوسطة الكتلة.'
		},
		fr: {
			title: 'Un sursaut gamma record stupéfie les astronomes',
			subtitle: 'Un événement sans précédent de sept heures remet en question les modèles astrophysiques existants',
			body: 'Le 2 juillet 2025, les astronomes ont détecté GRB 250702B, un sursaut gamma qui a duré plus de sept heures au lieu des secondes ou minutes habituelles. Les observations du satellite Fermi de la NASA, des télescopes terrestres dont les instruments Víctor M. Blanco et Gemini, et du télescope spatial James Webb ont révélé un jet relativiste dans une galaxie poussiéreuse massive à 8 milliards d\'années-lumière. La durée extraordinaire de l\'événement remet en cause les modèles actuels de collapsar, poussant les scientifiques à envisager des explications alternatives comme des événements de disruption par effet de marée impliquant des trous noirs de masse intermédiaire.'
		}
	},
    {
		id: 'news-002',
		type: 'news',
		category: 'global',
		image: 'assets2/images/news/comet-3i-atlas.jpg',
		date: '2025-12-05',
		en: {
			title: 'Juice and Hubble Observe Interstellar Comet 3I/Atlas',
			subtitle: 'Spacecraft and telescope provide unique data on the mysterious visitor before its closest approach to Earth',
			body: 'The Jupiter-bound spacecraft Juice and the Hubble Space Telescope have successfully observed the interstellar comet 3I/Atlas. Juice used five instruments, including its NavCam, to capture the comet\'s plasma and dust tails just days before its perihelion. Hubble provided additional images on November 30th. The comet, the third confirmed interstellar visitor after \'Oumuamua and Borisov, will make its closest approach to Earth on December 19th, coming within 273 million kilometers, becoming visible with amateur telescopes.'
		},
		ar: {
			title: 'مسبار جويس وتلسكوب هابل يدرسان المذنب بين النجوم 3I/أطلس',
			subtitle: 'مركبة فضائية وتلسكوب يقدمان بيانات فريدة عن الزائر الغامق قبل اقترابه الأقصى من الأرض',
			body: 'تمكن المسبار جويس المتجه نحو المشتري وتلسكوب هابل الفضائي من رصد المذنب بين النجوم 3I/أطلس. استخدم جويس خمسة أدوات، بما فيها كاميرا الملاحة، لالتقاط ذيول البلازما والغبار الخاصة بالمذنب قبل أيام فقط من وصوله إلى الحضيض الشمسي. وفر هابل صوراً إضافية في 30 نوفمبر. سيصل المذنب، وهو الزائر بين النجوم الثالث المؤكد بعد أومواموا وبوريسوف، إلى أقرب نقطة من الأرض في 19 ديسمبر، ليصبح على بعد 273 مليون كيلومتر، ومرئياً بالتلسكوبات الهواة.'
		},
		fr: {
			title: 'Juice et Hubble observent la comète interstellaire 3I/Atlas',
			subtitle: 'Une sonde spatiale et un télescope fournissent des données uniques sur le mystérieux visiteur avant son approche la plus proche de la Terre',
			body: 'La sonde spatiale Juice, en route vers Jupiter, et le télescope spatial Hubble ont observé avec succès la comète interstellaire 3I/Atlas. Juice a utilisé cinq instruments, dont sa NavCam, pour capturer les queues de plasma et de poussière de la comète quelques jours seulement avant son périhélie. Hubble a fourni des images supplémentaires le 30 novembre. La comète, le troisième visiteur interstellaire confirmé après \'Oumuamua et Borisov, effectuera son approche la plus proche de la Terre le 19 décembre, passant à 273 millions de kilomètres, devenant visible avec des télescopes amateurs.'
		}
	},
    // Tunisian Local News
    {
    id: 'news-003',
    type: 'news',
    category: 'local',
    image: 'assets2/images/news/tunisia-conference.jpg',
    date: '2025-12-05',
    en: {
        title: 'Tunisian Association of Young Astronomers Hosted Dr. Mayssa El Yazidi on Planetary Geology',
        subtitle: 'Conference on Mercury exploration and remote sensing applications successfully held in Tunis',
        body: 'On December 4, 2025, the Tunisian Association of Young Astronomers organized a significant conference presented by Dr. Mayssa El Yazidi, a postdoctoral researcher at the Institute of Radioastronomy (IRA), National Institute of Astrophysics (INAF) - Italy. The conference covered two main topics: "The exploration of Mercury, from Mariner 10 to BepiColombo" and "Remote sensing data and ArcGis application: From Earth to the planets". The event took place at the Khawarizmi conference hall (Mathematics Department), Faculty of Sciences of Tunis, University of Tunis El Manar, and was conducted in English. The conference was moderated by Feyda Srarfi and provided valuable insights into planetary geology and space technology applications for students and astronomy enthusiasts.'
    },
    ar: {
        title: 'الجمعية التونسية للشباب الفلكيين استضافت الدكتورة ميساء اليزيدي في ندوة حول جيولوجيا الكواكب',
        subtitle: 'عقدت ندوة ناجحة حول استكشاف عطارد وتطبيقات الاستشعار عن بعد في تونس',
        body: 'في 4 ديسمبر 2025، نظمت الجمعية التونسية للشباب الفلكيين ندوة هامة قدمتها الدكتورة ميساء اليزيدي، باحثة ما بعد الدكتوراه في معهد الراديو الفلكي (IRA)، المعهد الوطني للفيزياء الفلكية (INAF) - إيطاليا. تناولت الندوة موضوعين رئيسيين: "استكشاف كوكب عطارد، من مسبار مارينر 10 إلى بيبيكولومبو" و"بيانات الاستشعار عن بعد وتطبيق ArcGis: من الأرض إلى الكواكب". عقدت الندوة في قاعة مؤتمرات الخوارزمي (قسم الرياضيات)، كلية العلوم بتونس، جامعة تونس المنار، وقد قدمت باللغة الإنجليزية. أدارت الندوة فايدة الصرافي وقدمت رؤى قيمة حول جيولوجيا الكواكب وتطبيقات تكنولوجيا الفضاء للطلاب وهواة الفلك.'
    },
    fr: {
        title: 'L\'Association Tunisienne des Jeunes Astronomes a accueilli le Dr Mayssa El Yazidi pour une conférence sur la géologie planétaire',
        subtitle: 'Conférence sur l\'exploration de Mercure et les applications de télédétection tenue avec succès à Tunis',
        body: 'Le 4 décembre 2025, l\'Association Tunisienne des Jeunes Astronomes a organisé une conférence importante présentée par le Dr Mayssa El Yazidi, chercheuse postdoctorale à l\'Institut de Radioastronomie (IRA), Institut National d\'Astrophysique (INAF) - Italie. La conférence a porté sur deux sujets principaux : "L\'exploration de Mercure, de Mariner 10 à BepiColombo" et "Les données de télédétection et l\'application ArcGis : de la Terre aux planètes". L\'événement s\'est tenu à la salle de conférences Khawarizmi (Département de Mathématiques), Faculté des Sciences de Tunis, Université de Tunis El Manar, et a été présenté en anglais. La conférence a été modérée par Feyda Srarfi et a fourni des perspectives précieuses sur la géologie planétaire et les applications de la technologie spatiale pour les étudiants et les passionnés d\'astronomie.'
    }
},
    {
    id: 'news-004',
    type: 'news',
    category: 'local',
    image: 'assets2/images/news/comet-lemmon-tail.jpg',
    date: '2025-11-10',
    en: {
        title: 'Astrophotographers Capture Comet Lemmon\'s Ion Tail in Stunning Detail',
        subtitle: 'Hafedh Driss and Makrem Akrout reveal chaotic beauty of comet\'s plasma structures',
        body: 'Astrophotographers Hafedh Driss and Makrem Akrout successfully captured Comet Lemmon\'s magnificent ion tail during its approach to perihelion. Using Twin RASA 8 systems equipped with ZWO ASI2600MM Duo cameras and Antlia RGB Pro filters at f/2, they documented the comet under favorable conditions as it entered the inner solar system. The resulting image reveals intense interactions between solar radiation, solar wind, and the comet\'s ionized gases, creating a spectacular ion tail rich in filaments and dynamic plasma waves shaped by the solar magnetic field. The green coma primarily originated from diatomic carbon (C₂) emissions, while the bluish tail traced carbon monoxide ions (CO⁺). As the comet approached its perihelion on November 8, 2025, the ion tail displayed strong brightness variations and turbulent structures driven by solar activity and outgassing from the nucleus. The image represents a significant achievement in comet photography, showcasing both technical expertise and artistic vision in capturing solar system phenomena.'
    },
    ar: {
        title: 'مصورو الفلك يوثقون ذيل المذنب ليمون الأيوني بتفاصيل مذهلة',
        subtitle: 'حافظ دريس ومكرم عكروت يكشفان الجمال الفوضوي للهياكل البلازمية في المذنب',
        body: 'تمكن مصورا الفلك حافظ دريس ومكرم عكروت من التقاط ذيل المذنب ليمون الأيوني المذهل خلال اقترابه من الحضيض الشمسي. باستخدام نظامي RASA 8 المزدوجة المجهزة بكاميرات ZWO ASI2600MM Duo ومرشحات Antlia RGB Pro عند فتحة f/2، وثقوا المذنب في ظروف مواتية بينما دخل النظام الشمسي الداخلي. تظهر الصورة الناتجة تفاعلات مكثفة بين الإشعاع الشمسي والرياح الشمسية والغازات المؤينة للمذنب، مما خلق ذيلاً أيونياً رائعاً غنياً بالخيوط وموجات البلازما الديناميكية المشكلة بواسطة المجال المغناطيسي الشمسي. نشأت الغيبوبة الخضراء بشكل أساسي من انبعاثات الكربون ثنائي الذرة (C₂)، بينما تتبع الذيل المزرق أيونات أول أكسيد الكربون (CO⁺). مع اقتراب المذنب من حضيضه في 8 نوفمبر 2025، أظهر الذيل الأيوني اختلافات قوية في السطوع وهياكل مضطربة مدفوعة بالنشاط الشمسي وانبعاثات الغازات من النواة. تمثل الصورة إنجازاً كبيراً في تصوير المذنبات، حيث تظهر الخبرة التقنية والرؤية الفنية في توثيق ظواهر النظام الشمسي.'
    },
    fr: {
        title: 'Des astrophotographes capturent la queue ionique de la comète Lemmon avec des détails époustouflants',
        subtitle: 'Hafedh Driss et Makrem Akrout révèlent la beauté chaotique des structures plasmatiques de la comète',
        body: 'Les astrophotographes Hafedh Driss et Makrem Akrout ont réussi à capturer la magnifique queue ionique de la comète Lemmon lors de son approche du périhélie. Utilisant des systèmes jumeaux RASA 8 équipés de caméras ZWO ASI2600MM Duo et de filtres Antlia RGB Pro à f/2, ils ont documenté la comète dans des conditions favorables alors qu\'elle entrait dans le système solaire interne. L\'image résultante révèle des interactions intenses entre le rayonnement solaire, le vent solaire et les gaz ionisés de la comète, créant une queue ionique spectaculaire riche en filaments et en ondes de plasma dynamiques façonnées par le champ magnétique solaire. La coma verte provenait principalement des émissions de carbone diatomique (C₂), tandis que la queue bleutée traçait les ions monoxyde de carbone (CO⁺). Alors que la comète approchait de son périhélie le 8 novembre 2025, la queue ionique a affiché de fortes variations de luminosité et des structures turbulentes entraînées par l\'activité solaire et les dégazages du noyau. L\'image représente une réalisation significative en photographie cométaire, montrant à la fois une expertise technique et une vision artistique dans la capture des phénomènes du système solaire.'
    }
},
    {
    id: 'news-005',
    type: 'news',
    category: 'global',
    image: 'assets2/images/news/cosmic-filament.jpg',
    date: '2025-12-05',
    en: {
        title: 'Never seen before: Astronomers discover the largest rotating structure in the Universe and it defies our models',
        subtitle: 'Cosmic filament of galaxies rotating together challenges understanding of galaxy formation',
        body: 'An international team of astronomers led by the University of Oxford has discovered a chain of 14 galaxies within a cosmic filament rotating together, located 140 million light-years away. The filament, which is 50 million light-years long and contains over 280 galaxies, rotates at a speed of 110 km/s. This discovery, published in the Monthly Notices of the Royal Astronomical Society, challenges current models of galaxy formation and rotation in the early universe.'
    },
    ar: {
        title: 'شيء غير مسبوق: علماء الفلك يكتشفون أكبر بنية دوارة في الكون وهي تتحدى نماذجنا',
        subtitle: 'خيط كوني من المجرات يدور معاً يتحدى فهمنا لتشكل المجرات',
        body: 'اكتشف فريق دولي من علماء الفلك بقيادة جامعة أكسفورد سلسلة من 14 مجرة داخل خيط كوني تدور معاً، على بعد 140 مليون سنة ضوئية. يبلغ طول الخيط الكوني 50 مليون سنة ضوئية ويحتوي على أكثر من 280 مجرة، ويدور بسرعة 110 كم/ثانية. هذا الاكتشاف، الذي نُشر في مجلة Monthly Notices of the Royal Astronomical Society، يتحدى النماذج الحالية لتشكل ودوران المجرات في الكون المبكر.'
    },
    fr: {
        title: 'C\'est du jamais vu : des astronomes ont découvert la plus grande structure en rotation de l\'Univers et elle défie nos modèles',
        subtitle: 'Un filament cosmique de galaxies tournant ensemble remet en question notre compréhension de la formation des galaxies',
        body: 'Une équipe internationale d\'astronomes dirigée par l\'université d\'Oxford a découvert une chaîne de 14 galaxies au sein d\'un filament cosmique en rotation, situé à 140 millions d\'années-lumière. Le filament, qui s\'étend sur 50 millions d\'années-lumière et contient plus de 280 galaxies, tourne à une vitesse de 110 km/s. Cette découverte, publiée dans les Monthly Notices of the Royal Astronomical Society, remet en question les modèles actuels de formation et de rotation des galaxies dans l\'Univers primitif.'
    }
},
    {
    id: 'news-006',
    type: 'news',
    category: 'local',
    image: 'assets2/images/news/astronomy-IAU.jpg',
    date: '2025-12-01',
    en: {
        title: 'Launch of First Astronomical Project for People with Disabilities in the Arab World',
        subtitle: 'Iraq, Syria, and Tunisia Coordinators under IAU supervision announced the "Astronomy for All" project',
        body: 'The astronomical coordinators of Iraq, Syria, and Tunisia, under the supervision of the Office of Astronomy for Development of the International Astronomical Union, announced the launch of the project: "Astronomy for All: Supporting and Empowering People with Disabilities in the Arab World." This was the first project of its kind in the Arab world, aiming to enhance astronomical inclusion and enable people with disabilities to access and effectively participate in space and astronomical sciences. The project worked on developing educational and guidance programs suitable for different groups, in addition to building a dedicated website for the project as a platform for communication, providing training materials, and announcing joint activities and events. The coordinators of Iraq, Syria, and Tunisia also collaborated in conducting workshops, launching supporting initiatives, and providing a suitable educational environment that contributed to integrating people with disabilities into the Arab and international astronomical community.'
    },
    ar: {
        title: 'انطلاق أول مشروع فلكي لخدمة ذوي الهمم في الوطن العربي',
        subtitle: 'منسقيات العراق وسوريا وتونس للفلك وبإشراف مكتب التوعية الفلكية في الاتحاد الفلكي الدولي أعلنت عن مشروع "الفلك للجميع"',
        body: 'سرّت منسقيات العراق وسوريا وتونس للفلك وبإشراف مكتب التوعية الفلكية في الاتحاد الفلكي الدولي، بالإعلان عن إطلاق مشروع: "الفلك للجميع: دعم وتمكين الأشخاص من ذوي الهمم في العالم العربي". كان هذا المشروع الأول من نوعه على مستوى الوطن العربي وهدف إلى تعزيز الشمول الفلكي وتمكين الأشخاص من ذوي الهمم من الوصول إلى علوم الفضاء والفلك والمشاركة فيها بفاعلية. عمل المشروع على تطوير برامج تعليمية وتوجيهية تتناسب مع مختلف الفئات، بالإضافة إلى بناء موقع إلكتروني مخصص للمشروع يكون منصة للتواصل، وتقديم المواد التدريبية، وإعلان الأنشطة والفعاليات المشتركة. كما تعاونت منسقيات العراق وسوريا وتونس في تنفيذ ورش العمل، وإطلاق المبادرات الداعمة، وتوفير بيئة تعليمية ملائمة ساهمت في دمج ذوي الهمم في المجتمع الفلكي العربي والدولي.'
    },
    fr: {
        title: 'Lancement du premier projet astronomique au service des personnes en situation de handicap dans le monde arabe',
        subtitle: 'Les coordinateurs astronomiques d\'Irak, de Syrie et de Tunisie sous la supervision de l\'Union astronomique internationale ont annoncé le projet "L\'astronomie pour tous"',
        body: 'Les coordinateurs astronomiques d\'Irak, de Syrie et de Tunisie, sous la supervision du Bureau de l\'astronomie pour le développement de l\'Union astronomique internationale, ont annoncé le lancement du projet : "L\'astronomie pour tous : soutien et autonomisation des personnes en situation de handicap dans le monde arabe". Ce projet a été le premier du genre dans le monde arabe et visait à renforcer l\'inclusion astronomique et à permettre aux personnes en situation de handicap d\'accéder et de participer efficacement aux sciences spatiales et astronomiques. Le projet a travaillé au développement de programmes éducatifs et d\'orientation adaptés à différents groupes, en plus de la construction d\'un site web dédié au projet comme plateforme de communication, fournissant du matériel de formation et annonçant les activités et événements conjoints. Les coordinateurs d\'Irak, de Syrie et de Tunisie ont également collaboré à la conduite d\'ateliers, au lancement d\'initiatives de soutien et à la fourniture d\'un environnement éducatif adapté qui a contribué à l\'intégration des personnes en situation de handicap dans la communauté astronomique arabe et internationale.'
    }
},
    // Events (updated with Tunisian dates)
    {
    id: 'event-001',
    type: 'event',
    category: 'global',
    image: 'assets2/images/events/december-solstice.jpg',
    date: '2025-12-21',
    en: {
        title: '2025 December Solstice',
        subtitle: 'The sun reaches its southernmost point, marking the shortest day in the Northern Hemisphere',
        body: 'The 2025 December solstice occurs on December 21 at 15:03 UTC. This astronomical event marks the sun\'s southernmost point in the sky, bringing the shortest day and longest night in the Northern Hemisphere (winter solstice) and the longest day in the Southern Hemisphere (summer solstice). At Stonehenge, thousands gather to witness the sunrise alignment with the Heel Stone, celebrating the symbolic "rebirth of the sun."'
    },
    ar: {
        title: 'الانقلاب الشتوي ديسمبر 2025',
        subtitle: 'الشمس تصل إلى أقصى نقطة جنوبية، معلنةً أقصر يوم في نصف الكرة الشمالي',
        body: 'يحدث الانقلاب الشتوي ديسمبر 2025 في 21 ديسمبر الساعة 15:03 بالتوقيت العالمي. يحدد هذا الحدث الفلكي وصول الشمس إلى أقصى نقطة جنوبية في السماء، مما يجلب أقصر يوم وأطول ليلة في نصف الكرة الشمالي (الانقلاب الشتوي) وأطول يوم في نصف الكرة الجنوبي (الانقلاب الصيفي). في ستونهنج، يتجمع الآلاف لمشاهدة محاذاة شروق الشمس مع حجر الكعب، للاحتفال بـ"ولادة الشمس" الرمزية.'
    },
    fr: {
        title: 'Solstice de décembre 2025',
        subtitle: 'Le Soleil atteint son point le plus méridional, marquant le jour le plus court dans l\'hémisphère Nord',
        body: 'Le solstice de décembre 2025 se produit le 21 décembre à 15:03 UTC. Cet événement astronomique marque le point le plus méridional du Soleil dans le ciel, apportant le jour le plus court et la nuit la plus longue dans l\'hémisphère Nord (solstice d\'hiver) et le jour le plus long dans l\'hémisphère Sud (solstice d\'été). À Stonehenge, des milliers de personnes se rassemblent pour observer l\'alignement du lever du soleil avec la Heel Stone, célébrant la "renaissance symbolique du soleil".'
    }
},
    {
    id: 'event-002',
    type: 'event',
    category: 'local',
    image: 'assets2/images/events/tunisia-winter-sky.jpg',
    date: '2025-12-27',
    en: {
        title: 'Astronomy Activities: Stargazing Evening to Explore the Wonders of the Winter Sky',
        subtitle: 'Astronomy evening at the City of Science in Tunis',
        body: 'The City of Science in Tunis is organizing a stargazing evening dedicated to exploring the wonders of the winter sky, on Saturday, December 27, 2025, starting at 6:00 PM at the Ibn Khaldun Hall, City of Science, Tunis. Program content: Lecture: "Wonders of the Winter Sky", Astronomical observation workshops: Deepen your knowledge of the most beautiful targets that can be observed and monitored during the winter season. Astronomy enthusiasts, through telescopes set up on site, will be able to observe and monitor: The Moon, Saturn and its moons, Jupiter, the Orion Nebula. It is an astronomical evening that combines science and is open to all lovers of the beauty of the dark sky and the magic of the universe! Admission is free and open to all.'
    },
    ar: {
        title: 'أنشطة في علم الفلك: سهرة فلكية لاستكشاف عجائب سماء الشتاء',
        subtitle: 'سهرة فلكية في مدينة العلوم بتونس',
        body: 'تنظّم مدينة العلوم سهرة فلكيّة مخصّصة لاستكشاف عجائب سماء الشتاء، وذلك يوم السبت 27 ديسمبر 2025، ابتداءً من الساعة السادسة مساءً بقاعة ابن خلدون، مدينة العلوم بتونس. محتوى البرنامج: محاضرة: "عجائب السماء الشتويّة"، ورشات الرصد الفلكي: تجعلك تعمّق في أجمل الأهداف التي يمكن رصدها ومراقبتها خلال موسم الشتاء. سيتمكن هواة علم الفلك، عبر التلسكوبات المثبتة في الموقع، من رصد ومراقبة: القمر، كوكب زحل وأقماره، كوكب المشتري، سديم الجبار (سديم أوريون الرائع). هي سهرة فلكيّة تجمع بين العلم مفتوحة لجميع عشاق جمال ظلمة السماء وسحر الكون! الدخول حرّ ومجّاني.'
    },
    fr: {
        title: 'Activités d\'astronomie : Soirée d\'observation des étoiles pour explorer les merveilles du ciel d\'hiver',
        subtitle: 'Soirée d\'astronomie à la Cité des Sciences de Tunis',
        body: 'La Cité des Sciences de Tunis organise une soirée d\'observation des étoiles dédiée à l\'exploration des merveilles du ciel d\'hiver, le samedi 27 décembre 2025, à partir de 18h00 à la salle Ibn Khaldoun, Cité des Sciences, Tunis. Contenu du programme : Conférence : "Les merveilles du ciel d\'hiver", Ateliers d\'observation astronomique : Vous approfondirez les plus beaux objets à observer et suivre pendant la saison hivernale. Les passionnés d\'astronomie, à travers les télescopes installés sur place, pourront observer et surveiller : La Lune, Saturne et ses lunes, Jupiter, la nébuleuse d\'Orion. C\'est une soirée astronomique qui allie science et est ouverte à tous les amoureux de la beauté du ciel nocturne et de la magie de l\'univers ! L\'entrée est libre et gratuite pour tous.'
    }
},
    {
    id: 'event-003',
    type: 'event',
    category: 'global',
    image: 'assets2/images/events/ursid-meteor.jpg',
    date: '2025-12-22',
    en: {
        title: 'Ursid Meteor Shower Peak',
        subtitle: 'Annual meteor shower from Comet 8P/Tuttle',
        body: 'The Ursid meteor shower peaks on December 22, 2025. Active from December 13-26, the Ursids produce about 5 meteors per hour under dark skies. This year, the new moon on December 20 will provide ideal viewing conditions.'
    },
    ar: {
        title: 'ذروة زخة شهب الدببة',
        subtitle: 'زخة شهب سنوية من المذنب 8P/Tuttle',
        body: 'تصل زخة شهب الدببة إلى ذروتها في 22 ديسمبر 2025. نشطة من 13 إلى 26 ديسمبر، تنتج شهب الدببة حوالي 5 شهب في الساعة تحت سماء مظلمة. هذا العام، سيقدم القمر الجديد في 20 ديسمبر ظروف مشاهدة مثالية.'
    },
    fr: {
        title: 'Pic de la pluie de météores des Ursides',
        subtitle: 'Pluie de météores annuelle de la comète 8P/Tuttle',
        body: 'La pluie de météores des Ursides atteint son pic le 22 décembre 2025. Active du 13 au 26 décembre, les Ursides produisent environ 5 météores par heure sous un ciel sombre. Cette année, la nouvelle lune du 20 décembre offrira des conditions d\'observation idéales.'
    }
}
];
```
**router.js** ( Placeholder Files Empty - will be populated later)
```javascript
// router.js - Will handle client-side routing
// This file will be populated in later steps
```
**share-manager.js** ( Placeholder Files Empty - will be populated later)
```javascript
// share-manager.js - Will handle social sharing
// This file will be populated in later steps
```
**pwa-main.js** ( Placeholder Files Empty - will be populated later)
```javascript
// pwa-main.js - Will handle PWA-specific functionality
// This file will be populated in later steps
```
**data_about.js, data_explore.js, data_gallery.js, data_missions.js** ( Placeholder Files Empty - will be populated later)
---
## **Summary of Step 1 Files Created:**
1. **Supabase Table SQL** - Complete user management system with reactions and comments
2. **netlify.toml** - Configured for multi-page app with proper redirects
3. **offline.html** - Custom offline experience with astronomy theme
4. **sw.js** - Enhanced service worker with background sync, push notifications, and offline support
5. **index.html** - Main page with reaction buttons, share functionality, and modal support
6. **main.css** - Updated with all AN- prefixed variables and reaction button styles
7. **translation.js** - Enhanced with reaction, auth, and validation keys
8. **app.js** - Main application logic with authentication, reactions, comments, and offline sync
9. **Placeholder files** - Ready for implementation in later steps
All files follow the requirements:
- All CSS variables and classes use `AN-` prefix
- Translation keys are organized in nested objects
- News/events have like/dislike/comment buttons (UI ready, backend connected)
- Share functionality is implemented
- PWA features are complete with service worker
- Netlify configuration is optimized for both SPA and MPA
The app is now ready for Step 2 development!